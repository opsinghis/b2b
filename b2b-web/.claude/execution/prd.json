{
  "project": "B2B Web",
  "version": "1.0.0",
  "repository": "b2b-web",
  "methodology": "hybrid-lisa-ralph",
  "created": "2026-02-06",
  "depends_on": "b2b-api (Phase 4 complete)",
  "phases": [
    {
      "id": "phase-6",
      "name": "Frontend Foundation",
      "weight": "70% Lisa / 30% Ralph",
      "items": [
        {
          "id": "PRD-029",
          "title": "Turborepo Monorepo Setup",
          "module": "foundation",
          "priority": "P0",
          "completion_criteria": [
            "Turborepo with pnpm workspaces",
            "apps/admin, apps/portal directories",
            "packages/ui, packages/api-client, packages/config",
            "turbo.json with build, lint, test pipelines",
            "pnpm install works",
            "turbo run build works"
          ],
          "dependencies": [],
          "max_iterations": 5,
          "status": "pending"
        },
        {
          "id": "PRD-030",
          "title": "Next.js Admin Scaffold",
          "module": "apps/admin",
          "priority": "P0",
          "completion_criteria": [
            "Next.js 14+ with App Router",
            "TypeScript strict mode",
            "Tailwind CSS configured",
            "pnpm --filter admin dev works (port 3002)",
            "Basic layout with sidebar placeholder"
          ],
          "dependencies": ["PRD-029"],
          "max_iterations": 5,
          "status": "pending"
        },
        {
          "id": "PRD-031",
          "title": "Next.js Portal Scaffold",
          "module": "apps/portal",
          "priority": "P0",
          "completion_criteria": [
            "Next.js 14+ with App Router",
            "TypeScript strict mode",
            "Tailwind CSS configured",
            "pnpm --filter portal dev works (port 3003)",
            "Basic layout with header placeholder"
          ],
          "dependencies": ["PRD-029"],
          "max_iterations": 5,
          "status": "pending"
        },
        {
          "id": "PRD-032",
          "title": "Shared UI Library",
          "module": "packages/ui",
          "priority": "P1",
          "completion_criteria": [
            "Base components: Button, Input, Card, Modal, Table",
            "Form components: Form, Select, Checkbox",
            "Radix UI primitives for accessibility",
            "Storybook configured",
            "Components importable in apps"
          ],
          "dependencies": ["PRD-030", "PRD-031"],
          "max_iterations": 12,
          "status": "pending"
        },
        {
          "id": "PRD-033",
          "title": "OpenAPI Client Generation",
          "module": "packages/api-client",
          "priority": "P1",
          "completion_criteria": [
            "Client generated from b2b-api OpenAPI spec",
            "Typed API client with all endpoints",
            "pnpm --filter api-client generate works",
            "Client usable in apps"
          ],
          "dependencies": ["PRD-029"],
          "max_iterations": 8,
          "status": "pending"
        },
        {
          "id": "PRD-034",
          "title": "Frontend Authentication",
          "module": "packages/auth",
          "priority": "P0",
          "completion_criteria": [
            "NextAuth.js with Keycloak provider",
            "Login/logout pages",
            "Protected route middleware",
            "useAuth() hook",
            "E2E: login -> protected -> logout"
          ],
          "dependencies": ["PRD-030", "PRD-031", "PRD-033"],
          "max_iterations": 12,
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-7",
      "name": "Admin Portal",
      "weight": "50% Lisa / 50% Ralph",
      "items": [
        {
          "id": "PRD-035",
          "title": "Admin - Tenant Management",
          "module": "apps/admin",
          "priority": "P1",
          "completion_criteria": [
            "Tenants list with search, pagination",
            "Create/edit tenant forms",
            "Tenant config editor",
            "Super admin only access"
          ],
          "dependencies": ["PRD-034"],
          "max_iterations": 10,
          "status": "pending"
        },
        {
          "id": "PRD-036",
          "title": "Admin - User & Org Management",
          "module": "apps/admin",
          "priority": "P1",
          "completion_criteria": [
            "Users list with filters",
            "Create/edit user forms",
            "Organizations hierarchy view",
            "Role management"
          ],
          "dependencies": ["PRD-035"],
          "max_iterations": 12,
          "status": "pending"
        },
        {
          "id": "PRD-037",
          "title": "Admin - Audit Log Viewer",
          "module": "apps/admin",
          "priority": "P1",
          "completion_criteria": [
            "Audit log list with filters",
            "JSON diff viewer",
            "Export to CSV"
          ],
          "dependencies": ["PRD-036"],
          "max_iterations": 8,
          "status": "pending"
        },
        {
          "id": "PRD-038",
          "title": "Admin - Dashboard",
          "module": "apps/admin",
          "priority": "P2",
          "completion_criteria": [
            "KPI cards",
            "Charts with Recharts",
            "Recent activity feed"
          ],
          "dependencies": ["PRD-036"],
          "max_iterations": 10,
          "status": "pending"
        }
      ]
    },
    {
      "id": "phase-8",
      "name": "Customer Portal",
      "weight": "40% Lisa / 60% Ralph",
      "items": [
        {
          "id": "PRD-039",
          "title": "Portal - Dashboard",
          "module": "apps/portal",
          "priority": "P1",
          "completion_criteria": [
            "Personalized dashboard",
            "KPI cards",
            "Quick actions",
            "Notification bell"
          ],
          "dependencies": ["PRD-034"],
          "max_iterations": 8,
          "status": "pending"
        },
        {
          "id": "PRD-040",
          "title": "Portal - Contracts",
          "module": "apps/portal",
          "priority": "P1",
          "completion_criteria": [
            "Contract list with filters",
            "Contract detail with timeline",
            "Version diff view",
            "Submit for review action"
          ],
          "dependencies": ["PRD-039"],
          "max_iterations": 12,
          "status": "pending"
        },
        {
          "id": "PRD-041",
          "title": "Portal - Quote Builder",
          "module": "apps/portal",
          "priority": "P1",
          "completion_criteria": [
            "Quote wizard",
            "Product selector",
            "Line item editor",
            "Real-time pricing",
            "Submit for approval"
          ],
          "dependencies": ["PRD-039"],
          "max_iterations": 14,
          "status": "pending"
        },
        {
          "id": "PRD-042",
          "title": "Portal - Approvals",
          "module": "apps/portal",
          "priority": "P1",
          "completion_criteria": [
            "Approval inbox",
            "Approve/reject with comments",
            "Delegation"
          ],
          "dependencies": ["PRD-040", "PRD-041"],
          "max_iterations": 10,
          "status": "pending"
        },
        {
          "id": "PRD-043",
          "title": "Portal - Files & Notifications",
          "module": "apps/portal",
          "priority": "P2",
          "completion_criteria": [
            "File upload/download",
            "Notification dropdown",
            "Preferences page"
          ],
          "dependencies": ["PRD-039"],
          "max_iterations": 10,
          "status": "pending"
        }
      ]
    }
  ],
  "metadata": {
    "total_items": 15,
    "estimated_iterations": 141,
    "completion_promise_format": "<promise>COMPLETE:PRD-XXX</promise>"
  }
}
