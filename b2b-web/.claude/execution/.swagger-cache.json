{"openapi":"3.0.0","paths":{"/api/v1/health":{"get":{"operationId":"HealthController_check","summary":"Health check endpoint","parameters":[],"responses":{"200":{"description":"Service is healthy"}},"tags":["Health"]}},"/api/v1/tenants":{"post":{"operationId":"TenantsController_create","summary":"Create a new tenant (SUPER_ADMIN only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTenantDto"}}}},"responses":{"201":{"description":"Tenant created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantResponseDto"}}}},"403":{"description":"Insufficient permissions"},"409":{"description":"Tenant with this slug already exists"}},"tags":["Tenants"],"security":[{"bearer":[]}]},"get":{"operationId":"TenantsController_findAll","summary":"List all tenants (SUPER_ADMIN only)","parameters":[{"name":"search","required":false,"in":"query","description":"Search by name or slug","schema":{"example":"acme","type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"example":true,"type":"boolean"}},{"name":"includeDeleted","required":false,"in":"query","description":"Include soft-deleted tenants","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"example":20,"type":"number"}}],"responses":{"200":{"description":"List of tenants"}},"tags":["Tenants"],"security":[{"bearer":[]}]}},"/api/v1/tenants/{id}":{"get":{"operationId":"TenantsController_findOne","summary":"Get a tenant by ID (SUPER_ADMIN only)","parameters":[{"name":"id","required":true,"in":"path","description":"Tenant ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Tenant details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantResponseDto"}}}},"404":{"description":"Tenant not found"}},"tags":["Tenants"],"security":[{"bearer":[]}]},"patch":{"operationId":"TenantsController_update","summary":"Update a tenant (SUPER_ADMIN only)","parameters":[{"name":"id","required":true,"in":"path","description":"Tenant ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTenantDto"}}}},"responses":{"200":{"description":"Tenant updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantResponseDto"}}}},"404":{"description":"Tenant not found"},"409":{"description":"Tenant with this slug already exists"}},"tags":["Tenants"],"security":[{"bearer":[]}]},"delete":{"operationId":"TenantsController_remove","summary":"Soft delete a tenant (SUPER_ADMIN only)","parameters":[{"name":"id","required":true,"in":"path","description":"Tenant ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Tenant deleted successfully"},"404":{"description":"Tenant not found"}},"tags":["Tenants"],"security":[{"bearer":[]}]}},"/api/v1/tenants/slug/{slug}":{"get":{"operationId":"TenantsController_findBySlug","summary":"Get a tenant by slug (SUPER_ADMIN only)","parameters":[{"name":"slug","required":true,"in":"path","description":"Tenant slug","schema":{"type":"string"}}],"responses":{"200":{"description":"Tenant details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantResponseDto"}}}},"404":{"description":"Tenant not found"}},"tags":["Tenants"],"security":[{"bearer":[]}]}},"/api/v1/tenants/{id}/restore":{"post":{"operationId":"TenantsController_restore","summary":"Restore a soft-deleted tenant (SUPER_ADMIN only)","parameters":[{"name":"id","required":true,"in":"path","description":"Tenant ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Tenant restored successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantResponseDto"}}}},"404":{"description":"Tenant not found"},"409":{"description":"Tenant is not deleted"}},"tags":["Tenants"],"security":[{"bearer":[]}]}},"/api/v1/auth/register":{"post":{"operationId":"AuthController_register","summary":"Register a new user","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"409":{"description":"User already exists"}},"tags":["Authentication"]}},"/api/v1/auth/login":{"post":{"operationId":"AuthController_login","summary":"Login with email and password","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"401":{"description":"Invalid credentials"}},"tags":["Authentication"]}},"/api/v1/auth/refresh":{"post":{"operationId":"AuthController_refresh","summary":"Refresh access token","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"200":{"description":"Token refreshed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"401":{"description":"Invalid refresh token"}},"tags":["Authentication"]}},"/api/v1/auth/logout":{"post":{"operationId":"AuthController_logout","summary":"Logout and revoke tokens","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"204":{"description":"Logged out successfully"}},"tags":["Authentication"],"security":[{"bearer":[]}]}},"/api/v1/audit":{"get":{"operationId":"AuditController_findAll","summary":"Get audit logs with filters","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"userId","required":false,"in":"query","schema":{"type":"string"}},{"name":"entityType","required":false,"in":"query","schema":{"type":"string"}},{"name":"entityId","required":false,"in":"query","schema":{"type":"string"}},{"name":"action","required":false,"in":"query","schema":{"type":"string"}},{"name":"startDate","required":false,"in":"query","schema":{"type":"string"}},{"name":"endDate","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Audit logs retrieved"}},"tags":["Audit"],"security":[{"bearer":[]}]}},"/api/v1/audit/entity/{entityType}/{entityId}":{"get":{"operationId":"AuditController_findByEntity","summary":"Get audit logs for a specific entity","parameters":[{"name":"entityType","required":true,"in":"query","schema":{"type":"string"}},{"name":"entityId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Entity audit logs retrieved"}},"tags":["Audit"],"security":[{"bearer":[]}]}},"/api/v1/organizations":{"post":{"operationId":"OrganizationsController_create","summary":"Create a new organization","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrganizationDto"}}}},"responses":{"201":{"description":"Organization created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponseDto"}}}},"404":{"description":"Parent organization not found"},"409":{"description":"Organization with this code already exists"}},"tags":["Organizations"],"security":[{"bearer":[]}]},"get":{"operationId":"OrganizationsController_findAll","summary":"List all organizations","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"search","required":false,"in":"query","description":"Search by name or code","schema":{"example":"eng","type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"example":true,"type":"boolean"}},{"name":"parentId","required":false,"in":"query","description":"Filter by parent ID","schema":{"example":"clx1234567890","type":"string"}},{"name":"includeDeleted","required":false,"in":"query","description":"Include soft-deleted organizations","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"example":20,"type":"number"}}],"responses":{"200":{"description":"List of organizations"}},"tags":["Organizations"],"security":[{"bearer":[]}]}},"/api/v1/organizations/hierarchy":{"get":{"operationId":"OrganizationsController_getHierarchy","summary":"Get organization hierarchy tree","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"rootId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Organization hierarchy tree","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationHierarchyResponseDto"}}}}}},"tags":["Organizations"],"security":[{"bearer":[]}]}},"/api/v1/organizations/{id}":{"get":{"operationId":"OrganizationsController_findOne","summary":"Get an organization by ID","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"Organization ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Organization details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponseDto"}}}},"404":{"description":"Organization not found"}},"tags":["Organizations"],"security":[{"bearer":[]}]},"patch":{"operationId":"OrganizationsController_update","summary":"Update an organization","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"Organization ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrganizationDto"}}}},"responses":{"200":{"description":"Organization updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponseDto"}}}},"400":{"description":"Invalid parent (circular reference)"},"404":{"description":"Organization not found"},"409":{"description":"Organization with this code already exists"}},"tags":["Organizations"],"security":[{"bearer":[]}]},"delete":{"operationId":"OrganizationsController_remove","summary":"Soft delete an organization","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"Organization ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Organization deleted successfully"},"400":{"description":"Cannot delete organization with children"},"404":{"description":"Organization not found"}},"tags":["Organizations"],"security":[{"bearer":[]}]}},"/api/v1/organizations/code/{code}":{"get":{"operationId":"OrganizationsController_findByCode","summary":"Get an organization by code","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"code","required":true,"in":"path","description":"Organization code","schema":{"type":"string"}}],"responses":{"200":{"description":"Organization details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponseDto"}}}},"404":{"description":"Organization not found"}},"tags":["Organizations"],"security":[{"bearer":[]}]}},"/api/v1/organizations/{id}/hierarchy":{"get":{"operationId":"OrganizationsController_getOrganizationHierarchy","summary":"Get hierarchy tree starting from this organization","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"Organization ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Organization hierarchy tree","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationHierarchyResponseDto"}}}}},"404":{"description":"Organization not found"}},"tags":["Organizations"],"security":[{"bearer":[]}]}},"/api/v1/organizations/{id}/restore":{"post":{"operationId":"OrganizationsController_restore","summary":"Restore a soft-deleted organization","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"Organization ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Organization restored successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponseDto"}}}},"404":{"description":"Organization not found"},"409":{"description":"Organization is not deleted"}},"tags":["Organizations"],"security":[{"bearer":[]}]}},"/api/v1/users":{"post":{"operationId":"UsersController_create","summary":"Create a new user","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"Organization not found"},"409":{"description":"User with this email already exists"}},"tags":["Users"],"security":[{"bearer":[]}]},"get":{"operationId":"UsersController_findAll","summary":"List all users","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"search","required":false,"in":"query","description":"Search by name or email","schema":{"example":"john","type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"example":true,"type":"boolean"}},{"name":"role","required":false,"in":"query","description":"Filter by role","schema":{"example":"USER","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"],"type":"string"}},{"name":"organizationId","required":false,"in":"query","description":"Filter by organization ID","schema":{"example":"clx1234567890","type":"string"}},{"name":"includeDeleted","required":false,"in":"query","description":"Include soft-deleted users","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"example":20,"type":"number"}}],"responses":{"200":{"description":"List of users"}},"tags":["Users"],"security":[{"bearer":[]}]}},"/api/v1/users/me":{"get":{"operationId":"UsersController_getMe","summary":"Get current user profile","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Current user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"tags":["Users"],"security":[{"bearer":[]}]},"patch":{"operationId":"UsersController_updateMe","summary":"Update current user profile","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileDto"}}}},"responses":{"200":{"description":"Profile updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}}},"tags":["Users"],"security":[{"bearer":[]}]}},"/api/v1/users/me/change-password":{"post":{"operationId":"UsersController_changePassword","summary":"Change current user password","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordDto"}}}},"responses":{"204":{"description":"Password changed successfully"},"401":{"description":"Current password is incorrect"}},"tags":["Users"],"security":[{"bearer":[]}]}},"/api/v1/users/{id}":{"get":{"operationId":"UsersController_findOne","summary":"Get a user by ID","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"responses":{"200":{"description":"User details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"User not found"}},"tags":["Users"],"security":[{"bearer":[]}]},"patch":{"operationId":"UsersController_update","summary":"Update a user","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"User or organization not found"}},"tags":["Users"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsersController_remove","summary":"Soft delete a user","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"responses":{"204":{"description":"User deleted successfully"},"404":{"description":"User not found"}},"tags":["Users"],"security":[{"bearer":[]}]}},"/api/v1/users/email/{email}":{"get":{"operationId":"UsersController_findByEmail","summary":"Get a user by email","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"email","required":true,"in":"path","description":"User email","schema":{"type":"string"}}],"responses":{"200":{"description":"User details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"User not found"}},"tags":["Users"],"security":[{"bearer":[]}]}},"/api/v1/users/{id}/restore":{"post":{"operationId":"UsersController_restore","summary":"Restore a soft-deleted user","parameters":[{"name":"x-tenant-id","in":"header","description":"Tenant ID or slug","required":true,"schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"responses":{"200":{"description":"User restored successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"User not found"},"409":{"description":"User is not deleted"}},"tags":["Users"],"security":[{"bearer":[]}]}},"/api/v1/contracts":{"post":{"operationId":"ContractsController_create","summary":"Create a new contract","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateContractDto"}}}},"responses":{"201":{"description":"Contract created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Invalid input"},"403":{"description":"Insufficient permissions"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"get":{"operationId":"ContractsController_findAll","summary":"List all contracts","parameters":[{"name":"search","required":false,"in":"query","description":"Search in title and description","schema":{"example":"service","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"enum":["DRAFT","PENDING_APPROVAL","APPROVED","ACTIVE","EXPIRED","TERMINATED","CANCELLED"],"type":"string"}},{"name":"organizationId","required":false,"in":"query","description":"Filter by organization","schema":{"example":"org-id-123","type":"string"}},{"name":"includeDeleted","required":false,"in":"query","description":"Include soft-deleted contracts","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"example":20,"type":"number"}}],"responses":{"200":{"description":"List of contracts"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}":{"get":{"operationId":"ContractsController_findOne","summary":"Get a contract by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Contract details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"ContractsController_update","summary":"Update a contract","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateContractDto"}}}},"responses":{"200":{"description":"Contract updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Invalid input or contract not in DRAFT status"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"ContractsController_remove","summary":"Soft delete a contract","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Contract deleted successfully"},"400":{"description":"Contract not in deletable status"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/versions":{"get":{"operationId":"ContractsController_getVersionHistory","summary":"Get contract version history","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Contract version history","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ContractVersionResponseDto"}}}}},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/versions/{version}":{"get":{"operationId":"ContractsController_getVersion","summary":"Get a specific contract version","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}},{"name":"version","required":true,"in":"path","description":"Version number","schema":{"type":"string"}}],"responses":{"200":{"description":"Contract version details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractVersionResponseDto"}}}},"404":{"description":"Contract or version not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/restore":{"post":{"operationId":"ContractsController_restore","summary":"Restore a soft-deleted contract","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Contract restored successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Contract is not deleted"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/submit":{"post":{"operationId":"ContractsController_submit","summary":"Submit a contract for approval","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowActionDto"}}}},"responses":{"200":{"description":"Contract submitted for approval","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Contract not in DRAFT status"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/approve":{"post":{"operationId":"ContractsController_approve","summary":"Approve a contract","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowActionDto"}}}},"responses":{"200":{"description":"Contract approved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Contract not in PENDING_APPROVAL status"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/reject":{"post":{"operationId":"ContractsController_reject","summary":"Reject a contract (send back to draft)","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowActionDto"}}}},"responses":{"200":{"description":"Contract rejected","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Contract not in approvable status"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/activate":{"post":{"operationId":"ContractsController_activate","summary":"Activate an approved contract","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowActionDto"}}}},"responses":{"200":{"description":"Contract activated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Contract not in APPROVED status or missing effective date"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/terminate":{"post":{"operationId":"ContractsController_terminate","summary":"Terminate an active contract","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowActionDto"}}}},"responses":{"200":{"description":"Contract terminated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Contract not in ACTIVE status"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/contracts/{id}/cancel":{"post":{"operationId":"ContractsController_cancel","summary":"Cancel a contract","parameters":[{"name":"id","required":true,"in":"path","description":"Contract ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowActionDto"}}}},"responses":{"200":{"description":"Contract cancelled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractResponseDto"}}}},"400":{"description":"Contract cannot be cancelled in current status"},"404":{"description":"Contract not found"}},"tags":["Contracts"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes":{"post":{"operationId":"QuotesController_create","summary":"Create a new quote with line items","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateQuoteDto"}}}},"responses":{"201":{"description":"Quote created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Invalid input"},"403":{"description":"Insufficient permissions"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"get":{"operationId":"QuotesController_findAll","summary":"List all quotes","parameters":[{"name":"search","required":false,"in":"query","description":"Search in title and description","schema":{"example":"enterprise","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"enum":["DRAFT","PENDING_APPROVAL","APPROVED","SENT","ACCEPTED","REJECTED","EXPIRED","CONVERTED"],"type":"string"}},{"name":"contractId","required":false,"in":"query","description":"Filter by contract","schema":{"example":"contract-id-123","type":"string"}},{"name":"includeDeleted","required":false,"in":"query","description":"Include soft-deleted quotes","schema":{"example":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"example":20,"type":"number"}}],"responses":{"200":{"description":"List of quotes"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}":{"get":{"operationId":"QuotesController_findOne","summary":"Get a quote by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Quote details with line items","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"QuotesController_update","summary":"Update a quote","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuoteDto"}}}},"responses":{"200":{"description":"Quote updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Invalid input or quote not in DRAFT status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"QuotesController_remove","summary":"Soft delete a quote","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Quote deleted successfully"},"400":{"description":"Quote not in deletable status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}/submit":{"post":{"operationId":"QuotesController_submit","summary":"Submit a quote for approval","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteWorkflowActionDto"}}}},"responses":{"200":{"description":"Quote submitted for approval","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Quote not in DRAFT status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}/approve":{"post":{"operationId":"QuotesController_approve","summary":"Approve a quote (subject to approval threshold)","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteWorkflowActionDto"}}}},"responses":{"200":{"description":"Quote approved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Quote not in PENDING_APPROVAL status or exceeds threshold"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}/reject":{"post":{"operationId":"QuotesController_reject","summary":"Reject a quote (send back to draft)","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteWorkflowActionDto"}}}},"responses":{"200":{"description":"Quote rejected","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Quote cannot be rejected in current status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}/send":{"post":{"operationId":"QuotesController_send","summary":"Send an approved quote to customer","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteWorkflowActionDto"}}}},"responses":{"200":{"description":"Quote sent to customer","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Quote not in APPROVED status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}/accept":{"post":{"operationId":"QuotesController_accept","summary":"Mark quote as accepted by customer","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteWorkflowActionDto"}}}},"responses":{"200":{"description":"Quote accepted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Quote not in SENT status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}/customer-reject":{"post":{"operationId":"QuotesController_rejectByCustomer","summary":"Mark quote as rejected by customer","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteWorkflowActionDto"}}}},"responses":{"200":{"description":"Quote rejected by customer","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponseDto"}}}},"400":{"description":"Quote not in SENT status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/quotes/{id}/convert-to-contract":{"post":{"operationId":"QuotesController_convertToContract","summary":"Convert an accepted quote to a contract","parameters":[{"name":"id","required":true,"in":"path","description":"Quote ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteWorkflowActionDto"}}}},"responses":{"200":{"description":"Quote converted to contract"},"201":{"description":""},"400":{"description":"Quote not in ACCEPTED status"},"404":{"description":"Quote not found"}},"tags":["Quotes"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/categories":{"get":{"operationId":"TenantCatalogController_getCategoryTree","summary":"Get category tree","description":"Returns all categories as a hierarchical tree structure","parameters":[],"responses":{"200":{"description":"Category tree","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryTreeResponseDto"}}}}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/categories/{id}":{"get":{"operationId":"TenantCatalogController_getCategory","summary":"Get a single category","description":"Returns a category with its children","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Category found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponseDto"}}}},"404":{"description":"Category not found"}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/categories/slug/{slug}":{"get":{"operationId":"TenantCatalogController_getCategoryBySlug","summary":"Get a category by slug","description":"Returns a category by its URL-friendly slug","parameters":[{"name":"slug","required":true,"in":"path","description":"Category slug","schema":{"type":"string"}}],"responses":{"200":{"description":"Category found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponseDto"}}}},"404":{"description":"Category not found"}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/products":{"get":{"operationId":"TenantCatalogController_findAll","summary":"List products available to the tenant","description":"Returns products the tenant has access to with tenant-specific pricing. Supports filters for category, price range, and availability.","parameters":[{"name":"search","required":false,"in":"query","description":"Search term for name, SKU, or description","schema":{"type":"string"}},{"name":"category","required":false,"in":"query","description":"Filter by category (text field)","schema":{"type":"string"}},{"name":"categoryId","required":false,"in":"query","description":"Filter by category ID (hierarchical category)","schema":{"type":"string"}},{"name":"subcategory","required":false,"in":"query","description":"Filter by subcategory","schema":{"type":"string"}},{"name":"brand","required":false,"in":"query","description":"Filter by brand","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"enum":["ACTIVE","DISCONTINUED","ARCHIVED"],"type":"string"}},{"name":"availability","required":false,"in":"query","description":"Filter by availability","schema":{"enum":["IN_STOCK","LOW_STOCK","OUT_OF_STOCK","PREORDER","DISCONTINUED"],"type":"string"}},{"name":"minPrice","required":false,"in":"query","description":"Minimum price filter","schema":{"minimum":0,"example":10,"type":"number"}},{"name":"maxPrice","required":false,"in":"query","description":"Maximum price filter","schema":{"minimum":0,"example":1000,"type":"number"}},{"name":"accessOnly","required":false,"in":"query","description":"Only show products the tenant has access to","schema":{"default":true,"type":"boolean"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":20,"example":20,"type":"number"}}],"responses":{"200":{"description":"List of products","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantProductListResponseDto"}}}}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/products/{id}":{"get":{"operationId":"TenantCatalogController_findOne","summary":"Get a product with tenant-specific pricing","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Product found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantProductResponseDto"}}}},"404":{"description":"Product not found"}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/products/{id}/related":{"get":{"operationId":"TenantCatalogController_getRelatedProducts","summary":"Get related products","description":"Returns products related by category or brand","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Maximum related products","schema":{"example":8,"type":"number"}}],"responses":{"200":{"description":"Related products","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RelatedProductsResponseDto"}}}},"404":{"description":"Product not found"}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/products/sku/{sku}":{"get":{"operationId":"TenantCatalogController_findBySku","summary":"Get a product by SKU with tenant-specific pricing","parameters":[{"name":"sku","required":true,"in":"path","description":"Product SKU","schema":{"type":"string"}}],"responses":{"200":{"description":"Product found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantProductResponseDto"}}}},"404":{"description":"Product not found"}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/search/suggestions":{"get":{"operationId":"TenantCatalogController_getSearchSuggestions","summary":"Get search suggestions for autocomplete","description":"Returns product, category, and brand suggestions based on query","parameters":[{"name":"q","required":false,"in":"query","description":"Search query for autocomplete","schema":{"minLength":2,"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Maximum suggestions to return","schema":{"minimum":1,"maximum":20,"default":10,"type":"number"}}],"responses":{"200":{"description":"Search suggestions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchSuggestionsResponseDto"}}}}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/products/{id}/access":{"post":{"operationId":"TenantCatalogController_grantAccess","summary":"Grant or update access to a product (Admin only)","description":"Grant or revoke tenant access to a master catalog product","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrantAccessDto"}}}},"responses":{"200":{"description":"Access updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantProductResponseDto"}}}},"403":{"description":"Forbidden - Admin only"},"404":{"description":"Product not found"}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/catalog/products/{id}/pricing":{"put":{"operationId":"TenantCatalogController_setPricing","summary":"Update pricing for a product (Admin only)","description":"Set tenant-specific pricing. Must have access to the product first.","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetPricingDto"}}}},"responses":{"200":{"description":"Pricing updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantProductResponseDto"}}}},"403":{"description":"Forbidden or no access"},"404":{"description":"Product not found"}},"tags":["Tenant Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/catalog/categories":{"get":{"operationId":"AdminCategoriesController_getCategoryTree","summary":"Get all categories including inactive (Admin)","parameters":[],"responses":{"200":{"description":"Category tree including inactive","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryTreeResponseDto"}}}}},"tags":["Admin - Categories"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"AdminCategoriesController_createCategory","summary":"Create a new category (Admin)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"Category created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponseDto"}}}},"409":{"description":"Slug already exists"}},"tags":["Admin - Categories"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/catalog/categories/{id}":{"put":{"operationId":"AdminCategoriesController_updateCategory","summary":"Update a category (Admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"Category updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponseDto"}}}},"404":{"description":"Category not found"},"409":{"description":"Slug already exists or circular reference"}},"tags":["Admin - Categories"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"AdminCategoriesController_deleteCategory","summary":"Delete a category (Admin)","description":"Soft deletes a category by marking it inactive","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Category deleted"},"404":{"description":"Category not found"},"409":{"description":"Category has subcategories"}},"tags":["Admin - Categories"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/master-catalog/products":{"post":{"operationId":"MasterCatalogController_create","summary":"Create a master product (Admin only)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMasterProductDto"}}}},"responses":{"201":{"description":"Product created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterProductResponseDto"}}}},"400":{"description":"Invalid input"},"403":{"description":"Forbidden - Admin only"},"409":{"description":"SKU already exists"}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"get":{"operationId":"MasterCatalogController_findAll","summary":"List all master products","parameters":[{"name":"search","required":false,"in":"query","description":"Search term for name, SKU, or description","schema":{"example":"software","type":"string"}},{"name":"category","required":false,"in":"query","description":"Filter by category","schema":{"example":"Software","type":"string"}},{"name":"subcategory","required":false,"in":"query","description":"Filter by subcategory","schema":{"example":"Licenses","type":"string"}},{"name":"brand","required":false,"in":"query","description":"Filter by brand","schema":{"example":"Acme Corp","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"enum":["ACTIVE","DISCONTINUED","ARCHIVED"],"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"example":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"example":20,"type":"number"}}],"responses":{"200":{"description":"List of master products","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterProductListResponseDto"}}}}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/master-catalog/products/categories":{"get":{"operationId":"MasterCatalogController_getCategories","summary":"Get all product categories","parameters":[],"responses":{"200":{"description":"List of categories","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/master-catalog/products/brands":{"get":{"operationId":"MasterCatalogController_getBrands","summary":"Get all product brands","parameters":[],"responses":{"200":{"description":"List of brands","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/master-catalog/products/{id}":{"get":{"operationId":"MasterCatalogController_findOne","summary":"Get a master product by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Product found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterProductResponseDto"}}}},"404":{"description":"Product not found"}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"MasterCatalogController_update","summary":"Update a master product (Admin only)","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMasterProductDto"}}}},"responses":{"200":{"description":"Product updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterProductResponseDto"}}}},"400":{"description":"Invalid input"},"403":{"description":"Forbidden - Admin only"},"404":{"description":"Product not found"},"409":{"description":"SKU already exists"}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"MasterCatalogController_remove","summary":"Delete a master product (Admin only)","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Product deleted or archived"},"403":{"description":"Forbidden - Admin only"},"404":{"description":"Product not found"}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/master-catalog/products/sku/{sku}":{"get":{"operationId":"MasterCatalogController_findBySku","summary":"Get a master product by SKU","parameters":[{"name":"sku","required":true,"in":"path","description":"Product SKU","schema":{"type":"string"}}],"responses":{"200":{"description":"Product found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterProductResponseDto"}}}},"404":{"description":"Product not found"}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/master-catalog/products/{id}/status":{"patch":{"operationId":"MasterCatalogController_updateStatus","summary":"Update product status (Admin only)","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Status updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterProductResponseDto"}}}},"403":{"description":"Forbidden - Admin only"},"404":{"description":"Product not found"}},"tags":["Master Catalog"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/master-catalog/import":{"post":{"operationId":"MasterCatalogAdminController_importProducts","summary":"Import products from JSON file (Admin only)","description":"Batch import master products from a JSON file. Supports up to 10MB files.","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"JSON file containing products array"}},"required":["file"]}}}},"responses":{"201":{"description":"Import completed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportResponseDto"}}}},"400":{"description":"Invalid file format or validation errors"},"403":{"description":"Forbidden - Admin only"}},"tags":["Master Catalog Admin"],"security":[{"bearer":[]}]}},"/api/v1/admin/approval-chains":{"post":{"operationId":"ApprovalsController_createChain","summary":"Create a new approval chain","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateApprovalChainDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalChainResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]},"get":{"operationId":"ApprovalsController_findAllChains","summary":"List approval chains","parameters":[{"name":"entityType","required":false,"in":"query","description":"Filter by entity type","schema":{"enum":["CONTRACT","QUOTE"],"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"default":20,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalChainListResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/admin/approval-chains/{id}":{"get":{"operationId":"ApprovalsController_findChainById","summary":"Get approval chain by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalChainResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]},"put":{"operationId":"ApprovalsController_updateChain","summary":"Update approval chain","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateApprovalChainDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalChainResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]},"delete":{"operationId":"ApprovalsController_deleteChain","summary":"Delete approval chain","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/admin/approval-chains/{id}/set-default":{"post":{"operationId":"ApprovalsController_setDefaultChain","summary":"Set approval chain as default for its entity type","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalChainResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalChainResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/approvals/submit":{"post":{"operationId":"ApprovalsController_submitForApproval","summary":"Submit an entity for approval","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitApprovalDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/approvals/pending":{"get":{"operationId":"ApprovalsController_getPendingApprovals","summary":"Get pending approvals for current user","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PendingApprovalResponseDto"}}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/approvals/{id}":{"get":{"operationId":"ApprovalsController_getRequestById","summary":"Get approval request by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/approvals/{requestId}/steps/{stepId}/approve":{"post":{"operationId":"ApprovalsController_approve","summary":"Approve an approval step","parameters":[{"name":"requestId","required":true,"in":"path","schema":{"type":"string"}},{"name":"stepId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalActionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/approvals/{requestId}/steps/{stepId}/reject":{"post":{"operationId":"ApprovalsController_reject","summary":"Reject an approval step","parameters":[{"name":"requestId","required":true,"in":"path","schema":{"type":"string"}},{"name":"stepId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalActionDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/approvals/{requestId}/steps/{stepId}/delegate":{"post":{"operationId":"ApprovalsController_delegate","summary":"Delegate an approval step to another user","parameters":[{"name":"requestId","required":true,"in":"path","schema":{"type":"string"}},{"name":"stepId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DelegateApprovalDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/approvals/{id}/cancel":{"post":{"operationId":"ApprovalsController_cancelRequest","summary":"Cancel an approval request","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalRequestResponseDto"}}}}},"tags":["approvals"],"security":[{"bearer":[]}]}},"/api/v1/cart":{"get":{"operationId":"CartController_getCart","summary":"Get current user cart","parameters":[],"responses":{"200":{"description":"User cart with items","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}},"tags":["Cart"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"CartController_clearCart","summary":"Clear all items from cart","parameters":[],"responses":{"200":{"description":"Cart cleared","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}},"tags":["Cart"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/cart/items":{"post":{"operationId":"CartController_addItem","summary":"Add item to cart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddCartItemDto"}}}},"responses":{"201":{"description":"Item added to cart","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}},"400":{"description":"Invalid input"},"403":{"description":"Product access denied"}},"tags":["Cart"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/cart/items/{id}":{"patch":{"operationId":"CartController_updateItem","summary":"Update cart item quantity","parameters":[{"name":"id","required":true,"in":"path","description":"Cart item ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCartItemDto"}}}},"responses":{"200":{"description":"Cart item updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}},"400":{"description":"Invalid input"},"404":{"description":"Cart item not found"}},"tags":["Cart"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"CartController_removeItem","summary":"Remove item from cart","parameters":[{"name":"id","required":true,"in":"path","description":"Cart item ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Item removed from cart","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}},"404":{"description":"Cart item not found"}},"tags":["Cart"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/cart/apply-coupon":{"post":{"operationId":"CartController_applyCoupon","summary":"Apply coupon code to cart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyCouponDto"}}}},"responses":{"200":{"description":"Coupon applied successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}},"400":{"description":"Invalid coupon code or empty cart"}},"tags":["Cart"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/cart/coupon":{"delete":{"operationId":"CartController_removeCoupon","summary":"Remove coupon from cart","parameters":[],"responses":{"200":{"description":"Coupon removed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartResponseDto"}}}}},"tags":["Cart"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders":{"post":{"operationId":"OrdersController_create","summary":"Create order from cart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":"Order created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"400":{"description":"Cart is empty or invalid input"}},"tags":["Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"get":{"operationId":"OrdersController_findAll","summary":"List user orders","parameters":[{"name":"status","required":false,"in":"query","description":"Filter by order status","schema":{"enum":["DRAFT","PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED"],"type":"string"}},{"name":"search","required":false,"in":"query","description":"Search by order number","schema":{"example":"ORD-2026-","type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Filter by start date (created after)","schema":{"example":"2026-01-01T00:00:00Z","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Filter by end date (created before)","schema":{"example":"2026-12-31T23:59:59Z","type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number (1-indexed)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}},{"name":"sortBy","required":false,"in":"query","description":"Sort field","schema":{"default":"createdAt","enum":["createdAt","orderNumber","total","status"],"type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort order","schema":{"default":"desc","enum":["asc","desc"],"type":"string"}}],"responses":{"200":{"description":"List of orders","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderListResponseDto"}}}}},"tags":["Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders/{id}":{"get":{"operationId":"OrdersController_findOne","summary":"Get order details","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Order details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"404":{"description":"Order not found"}},"tags":["Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders/{id}/tracking":{"get":{"operationId":"OrdersController_getTracking","summary":"Get order tracking information","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Tracking information","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrackingResponseDto"}}}},"404":{"description":"Order not found"}},"tags":["Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders/{id}/cancel":{"post":{"operationId":"OrdersController_cancel","summary":"Cancel order","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelOrderDto"}}}},"responses":{"200":{"description":"Order cancelled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"400":{"description":"Order cannot be cancelled"},"404":{"description":"Order not found"}},"tags":["Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders/{id}/invoice":{"get":{"operationId":"OrdersController_getInvoice","summary":"Download order invoice","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Invoice PDF"},"400":{"description":"Invoice not available for this order status"},"404":{"description":"Order not found"}},"tags":["Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders/{id}/reorder":{"post":{"operationId":"OrdersController_reorder","summary":"Reorder - add order items to cart","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Items added to cart"},"404":{"description":"Order not found"}},"tags":["Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/orders":{"get":{"operationId":"AdminOrdersController_findAll","summary":"List all orders (admin)","parameters":[{"name":"status","required":false,"in":"query","description":"Filter by order status","schema":{"enum":["DRAFT","PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED"],"type":"string"}},{"name":"search","required":false,"in":"query","description":"Search by order number","schema":{"example":"ORD-2026-","type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Filter by start date (created after)","schema":{"example":"2026-01-01T00:00:00Z","type":"string"}},{"name":"endDate","required":false,"in":"query","description":"Filter by end date (created before)","schema":{"example":"2026-12-31T23:59:59Z","type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number (1-indexed)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}},{"name":"sortBy","required":false,"in":"query","description":"Sort field","schema":{"default":"createdAt","enum":["createdAt","orderNumber","total","status"],"type":"string"}},{"name":"sortOrder","required":false,"in":"query","description":"Sort order","schema":{"default":"desc","enum":["asc","desc"],"type":"string"}},{"name":"userId","required":false,"in":"query","description":"Filter by user ID (admin only)","schema":{"type":"string"}}],"responses":{"200":{"description":"List of all orders","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderListResponseDto"}}}}},"tags":["Admin - Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/orders/{id}":{"get":{"operationId":"AdminOrdersController_findOne","summary":"Get order details (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Order details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"404":{"description":"Order not found"}},"tags":["Admin - Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"AdminOrdersController_update","summary":"Update order (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderDto"}}}},"responses":{"200":{"description":"Order updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"400":{"description":"Invalid status transition"},"404":{"description":"Order not found"}},"tags":["Admin - Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/orders/{id}/refund":{"post":{"operationId":"AdminOrdersController_refund","summary":"Refund order (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundOrderDto"}}}},"responses":{"200":{"description":"Order refunded","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponseDto"}}}},"400":{"description":"Order cannot be refunded"},"404":{"description":"Order not found"}},"tags":["Admin - Orders"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/payment-methods":{"get":{"operationId":"PaymentMethodsController_findAvailable","summary":"Get available payment methods for current user","parameters":[{"name":"orderAmount","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"List of available payment methods","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentMethodResponseDto"}}}}}},"tags":["Payment Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/payment-methods":{"get":{"operationId":"AdminPaymentMethodsController_findAll","summary":"List all payment methods (admin)","parameters":[{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"type","required":false,"in":"query","description":"Filter by type","schema":{"enum":["CREDIT_CARD","DEBIT_CARD","BANK_TRANSFER","SALARY_DEDUCTION","INVOICE","WALLET"],"type":"string"}}],"responses":{"200":{"description":"List of payment methods","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentMethodResponseDto"}}}}}},"tags":["Admin - Payment Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"AdminPaymentMethodsController_create","summary":"Create payment method (admin)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePaymentMethodDto"}}}},"responses":{"201":{"description":"Payment method created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponseDto"}}}},"409":{"description":"Payment method code already exists"}},"tags":["Admin - Payment Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/payment-methods/{id}":{"get":{"operationId":"AdminPaymentMethodsController_findOne","summary":"Get payment method by ID (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Payment method ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Payment method details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponseDto"}}}},"404":{"description":"Payment method not found"}},"tags":["Admin - Payment Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"AdminPaymentMethodsController_update","summary":"Update payment method (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Payment method ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePaymentMethodDto"}}}},"responses":{"200":{"description":"Payment method updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMethodResponseDto"}}}},"404":{"description":"Payment method not found"}},"tags":["Admin - Payment Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"AdminPaymentMethodsController_delete","summary":"Delete payment method (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Payment method ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Payment method deleted"},"404":{"description":"Payment method not found"},"409":{"description":"Payment method has been used"}},"tags":["Admin - Payment Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/delivery-methods":{"get":{"operationId":"DeliveryMethodsController_findAvailable","summary":"Get available delivery methods","parameters":[],"responses":{"200":{"description":"List of available delivery methods","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DeliveryMethodResponseDto"}}}}}},"tags":["Delivery Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/delivery-methods":{"get":{"operationId":"AdminDeliveryMethodsController_findAll","summary":"List all delivery methods (admin)","parameters":[{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}}],"responses":{"200":{"description":"List of delivery methods","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DeliveryMethodResponseDto"}}}}}},"tags":["Admin - Delivery Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"AdminDeliveryMethodsController_create","summary":"Create delivery method (admin)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDeliveryMethodDto"}}}},"responses":{"201":{"description":"Delivery method created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryMethodResponseDto"}}}},"409":{"description":"Delivery method code already exists"}},"tags":["Admin - Delivery Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/delivery-methods/{id}":{"get":{"operationId":"AdminDeliveryMethodsController_findOne","summary":"Get delivery method by ID (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Delivery method ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Delivery method details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryMethodResponseDto"}}}},"404":{"description":"Delivery method not found"}},"tags":["Admin - Delivery Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"AdminDeliveryMethodsController_update","summary":"Update delivery method (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Delivery method ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDeliveryMethodDto"}}}},"responses":{"200":{"description":"Delivery method updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryMethodResponseDto"}}}},"404":{"description":"Delivery method not found"}},"tags":["Admin - Delivery Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"AdminDeliveryMethodsController_delete","summary":"Delete delivery method (admin)","parameters":[{"name":"id","required":true,"in":"path","description":"Delivery method ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Delivery method deleted"},"404":{"description":"Delivery method not found"}},"tags":["Admin - Delivery Methods"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/addresses":{"get":{"operationId":"UserAddressesController_findAll","summary":"Get all addresses for current user","parameters":[],"responses":{"200":{"description":"List of user addresses","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserAddressResponseDto"}}}}}},"tags":["User Addresses"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"UserAddressesController_create","summary":"Create new address","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserAddressDto"}}}},"responses":{"201":{"description":"Address created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAddressResponseDto"}}}}},"tags":["User Addresses"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/addresses/{id}":{"get":{"operationId":"UserAddressesController_findOne","summary":"Get address by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Address ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Address details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAddressResponseDto"}}}},"404":{"description":"Address not found"}},"tags":["User Addresses"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"UserAddressesController_update","summary":"Update address","parameters":[{"name":"id","required":true,"in":"path","description":"Address ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserAddressDto"}}}},"responses":{"200":{"description":"Address updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAddressResponseDto"}}}},"404":{"description":"Address not found"}},"tags":["User Addresses"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"UserAddressesController_delete","summary":"Delete address","parameters":[{"name":"id","required":true,"in":"path","description":"Address ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Address deleted"},"404":{"description":"Address not found"}},"tags":["User Addresses"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders/{id}/pay":{"post":{"operationId":"PaymentsController_processPayment","summary":"Process payment for an order","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessPaymentDto"}}}},"responses":{"200":{"description":"Payment processed","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponseDto"}}}},"400":{"description":"Invalid payment or order state"},"403":{"description":"Payment method not allowed for user"},"404":{"description":"Order or payment method not found"}},"tags":["Payments"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/payment-history":{"get":{"operationId":"PaymentsController_getPaymentHistory","summary":"Get payment history for current user","parameters":[{"name":"page","required":false,"in":"query","description":"Page number","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"type":"number"}}],"responses":{"200":{"description":"Payment history","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentHistoryResponseDto"}}}}},"tags":["Payments"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/orders/{id}/payments":{"get":{"operationId":"PaymentsController_getOrderPayments","summary":"Get payments for an order","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Order payments","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentResponseDto"}}}}}},"tags":["Payments"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/salary-deduction":{"get":{"operationId":"SalaryDeductionController_getStatus","summary":"Get salary deduction status and limits","parameters":[],"responses":{"200":{"description":"Salary deduction status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SalaryDeductionResponseDto"}}}}},"tags":["Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"SalaryDeductionController_updatePreferences","summary":"Update salary deduction preferences","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSalaryDeductionPreferencesDto"}}}},"responses":{"200":{"description":"Updated preferences","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SalaryDeductionResponseDto"}}}}},"tags":["Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/salary-deduction/history":{"get":{"operationId":"SalaryDeductionController_getHistory","summary":"Get salary deduction history","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"Deduction history","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SalaryDeductionHistoryResponseDto"}}}}},"tags":["Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/salary-deduction/limit-request":{"post":{"operationId":"SalaryDeductionController_createLimitRequest","summary":"Request limit increase","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLimitRequestDto"}}}},"responses":{"201":{"description":"Limit request created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitRequestResponseDto"}}}},"400":{"description":"Invalid request"},"409":{"description":"Pending request exists"}},"tags":["Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/salary-deductions":{"get":{"operationId":"AdminSalaryDeductionController_findAll","summary":"List all salary deductions","parameters":[{"name":"isEnabled","required":false,"in":"query","description":"Filter by enabled status","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of salary deductions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSalaryDeductionListResponseDto"}}}}},"tags":["Admin - Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/salary-deductions/{userId}":{"patch":{"operationId":"AdminSalaryDeductionController_update","summary":"Update user salary deduction settings","parameters":[{"name":"userId","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminUpdateSalaryDeductionDto"}}}},"responses":{"200":{"description":"Updated salary deduction","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SalaryDeductionResponseDto"}}}}},"tags":["Admin - Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/salary-deductions/report":{"get":{"operationId":"AdminSalaryDeductionController_getReport","summary":"Get salary deduction report","parameters":[],"responses":{"200":{"description":"Report data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SalaryDeductionReportResponseDto"}}}}},"tags":["Admin - Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/salary-deductions/limit-requests":{"get":{"operationId":"AdminSalaryDeductionController_findLimitRequests","summary":"List limit requests","parameters":[{"name":"status","required":false,"in":"query","description":"Filter by status","schema":{"enum":["PENDING","APPROVED","REJECTED","CANCELLED"],"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of limit requests","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitRequestListResponseDto"}}}}},"tags":["Admin - Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/salary-deductions/limit-requests/{id}/approve":{"post":{"operationId":"AdminSalaryDeductionController_approveLimitRequest","summary":"Approve limit request","parameters":[{"name":"id","required":true,"in":"path","description":"Limit request ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApproveRejectLimitRequestDto"}}}},"responses":{"200":{"description":"Request approved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitRequestResponseDto"}}}},"400":{"description":"Already processed"},"404":{"description":"Request not found"}},"tags":["Admin - Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/salary-deductions/limit-requests/{id}/reject":{"post":{"operationId":"AdminSalaryDeductionController_rejectLimitRequest","summary":"Reject limit request","parameters":[{"name":"id","required":true,"in":"path","description":"Limit request ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApproveRejectLimitRequestDto"}}}},"responses":{"200":{"description":"Request rejected","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LimitRequestResponseDto"}}}},"400":{"description":"Already processed"},"404":{"description":"Request not found"}},"tags":["Admin - Salary Deduction"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/discount-tier":{"get":{"operationId":"UserDiscountTierController_getMyTier","summary":"Get current user discount tier","parameters":[],"responses":{"200":{"description":"User discount tier","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDiscountTierResponseDto"}}}}},"tags":["Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/users/me/savings":{"get":{"operationId":"UserDiscountTierController_getMySavings","summary":"Get current user savings stats","parameters":[],"responses":{"200":{"description":"User savings stats","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSavingsResponseDto"}}}}},"tags":["Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/discount-tiers":{"get":{"operationId":"AdminDiscountTierController_findAll","summary":"List all discount tiers","parameters":[{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of discount tiers","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscountTiersListResponseDto"}}}}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"AdminDiscountTierController_create","summary":"Create a new discount tier","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDiscountTierDto"}}}},"responses":{"201":{"description":"Discount tier created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscountTierResponseDto"}}}},"409":{"description":"Discount tier with code already exists"}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/discount-tiers/{id}":{"get":{"operationId":"AdminDiscountTierController_findOne","summary":"Get discount tier by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Discount tier ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Discount tier","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscountTierResponseDto"}}}},"404":{"description":"Discount tier not found"}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"AdminDiscountTierController_update","summary":"Update a discount tier","parameters":[{"name":"id","required":true,"in":"path","description":"Discount tier ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDiscountTierDto"}}}},"responses":{"200":{"description":"Discount tier updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscountTierResponseDto"}}}},"404":{"description":"Discount tier not found"}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"AdminDiscountTierController_delete","summary":"Delete a discount tier","parameters":[{"name":"id","required":true,"in":"path","description":"Discount tier ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Discount tier deleted"},"400":{"description":"Cannot delete tier with active assignments"},"404":{"description":"Discount tier not found"}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/discount-tiers/{id}/assign":{"post":{"operationId":"AdminDiscountTierController_assignTier","summary":"Assign tier to a user","parameters":[{"name":"id","required":true,"in":"path","description":"Discount tier ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignDiscountTierDto"}}}},"responses":{"201":{"description":"Tier assigned","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDiscountTierResponseDto"}}}},"400":{"description":"Cannot assign inactive tier"},"404":{"description":"Discount tier or user not found"}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/discount-tiers/{id}/assign/{userId}":{"delete":{"operationId":"AdminDiscountTierController_unassignTier","summary":"Unassign tier from a user","parameters":[{"name":"userId","required":true,"in":"path","description":"User ID","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","description":"Discount tier ID","schema":{}}],"responses":{"204":{"description":"Tier unassigned"},"404":{"description":"User tier assignment not found"}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/discount-tiers/{id}/assignments":{"get":{"operationId":"AdminDiscountTierController_getTierAssignments","summary":"Get users assigned to a tier","parameters":[{"name":"id","required":true,"in":"path","description":"Discount tier ID","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"type":"number"}}],"responses":{"200":{"description":"Tier assignments"},"404":{"description":"Discount tier not found"}},"tags":["Admin - Discount Tiers"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/api/v1/promotions/available":{"get":{"operationId":"PromotionsController_getAvailable","summary":"Get available promotions for current user","parameters":[],"responses":{"200":{"description":"Available promotions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PromotionResponseDto"}}}}}},"tags":["Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/api/v1/promotions/validate":{"post":{"operationId":"PromotionsController_validateCoupon","summary":"Validate a coupon/promotion code","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyCouponDto"}}}},"responses":{"200":{"description":"Validation result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyCouponResponseDto"}}}}},"tags":["Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/api/v1/admin/promotions":{"get":{"operationId":"AdminPromotionsController_findAll","summary":"List all promotions","parameters":[{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"type","required":false,"in":"query","description":"Filter by type","schema":{"enum":["PERCENTAGE","FIXED_AMOUNT","BOGO","FREE_SHIPPING"],"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of promotions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionsListResponseDto"}}}}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"AdminPromotionsController_create","summary":"Create a new promotion","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePromotionDto"}}}},"responses":{"201":{"description":"Promotion created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionResponseDto"}}}},"409":{"description":"Promotion with code already exists"}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/api/v1/admin/promotions/{id}":{"get":{"operationId":"AdminPromotionsController_findOne","summary":"Get promotion by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Promotion","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionResponseDto"}}}},"404":{"description":"Promotion not found"}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"AdminPromotionsController_update","summary":"Update a promotion","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePromotionDto"}}}},"responses":{"200":{"description":"Promotion updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionResponseDto"}}}},"404":{"description":"Promotion not found"}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"AdminPromotionsController_delete","summary":"Delete a promotion","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Promotion deleted"},"404":{"description":"Promotion not found"}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/api/v1/admin/promotions/{id}/analytics":{"get":{"operationId":"AdminPromotionsController_getAnalytics","summary":"Get promotion analytics","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Promotion analytics","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionAnalyticsResponseDto"}}}},"404":{"description":"Promotion not found"}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/api/v1/admin/promotions/{id}/coupons":{"get":{"operationId":"AdminPromotionsController_getCoupons","summary":"Get coupons for a promotion","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"type":"number"}}],"responses":{"200":{"description":"Coupons list"},"404":{"description":"Promotion not found"}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/api/v1/admin/promotions/{id}/coupons/generate":{"post":{"operationId":"AdminPromotionsController_generateCoupons","summary":"Generate coupons for a promotion","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateCouponsDto"}}}},"responses":{"201":{"description":"Coupons generated","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CouponResponseDto"}}}}},"404":{"description":"Promotion not found"}},"tags":["Admin - Promotions"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/partners/me":{"get":{"operationId":"PartnersController_getMyProfile","summary":"Get my partner profile","parameters":[],"responses":{"200":{"description":"Partner profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerResponseDto"}}}},"404":{"description":"Partner profile not found"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/partners/me/commission":{"get":{"operationId":"PartnersController_getCommissionSummary","summary":"Get my commission summary","parameters":[],"responses":{"200":{"description":"Commission summary","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommissionSummaryResponseDto"}}}},"404":{"description":"Partner profile not found"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/partners/me/commissions":{"get":{"operationId":"PartnersController_getMyCommissions","summary":"Get my commission history","parameters":[{"name":"startDate","required":false,"in":"query","description":"Start date","schema":{"type":"string"}},{"name":"endDate","required":false,"in":"query","description":"End date","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"Commissions list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommissionsListResponseDto"}}}},"404":{"description":"Partner profile not found"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/partners/me/team":{"get":{"operationId":"PartnersController_getTeamMembers","summary":"Get my team members","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"Team members list"},"404":{"description":"Partner profile not found"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"PartnersController_addTeamMember","summary":"Add team member","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTeamMemberDto"}}}},"responses":{"201":{"description":"Team member added","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberResponseDto"}}}},"404":{"description":"Partner or user not found"},"409":{"description":"User is already a team member"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/partners/me/team/{userId}":{"delete":{"operationId":"PartnersController_removeTeamMember","summary":"Remove team member","parameters":[{"name":"userId","required":true,"in":"path","description":"User ID to remove","schema":{"type":"string"}}],"responses":{"204":{"description":"Team member removed"},"404":{"description":"Partner or team member not found"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/partners/me/resources":{"get":{"operationId":"PartnersController_getResources","summary":"Get partner resources and documents","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"Resources list"},"404":{"description":"Partner profile not found"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/partners/orders/on-behalf":{"post":{"operationId":"PartnersController_createOrderOnBehalf","summary":"Create order on behalf of team member","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderOnBehalfDto"}}}},"responses":{"201":{"description":"Order created"},"400":{"description":"Invalid request"},"404":{"description":"Partner or team member not found"}},"tags":["Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/partners":{"get":{"operationId":"AdminPartnersController_findAll","summary":"List all partners","parameters":[{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"organizationId","required":false,"in":"query","description":"Filter by organization ID","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of partners","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnersListResponseDto"}}}}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"post":{"operationId":"AdminPartnersController_create","summary":"Create a new partner","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePartnerDto"}}}},"responses":{"201":{"description":"Partner created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerResponseDto"}}}},"409":{"description":"Partner with code already exists"}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/partners/{id}":{"get":{"operationId":"AdminPartnersController_findOne","summary":"Get partner by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Partner ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Partner","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerResponseDto"}}}},"404":{"description":"Partner not found"}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"patch":{"operationId":"AdminPartnersController_update","summary":"Update a partner","parameters":[{"name":"id","required":true,"in":"path","description":"Partner ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePartnerDto"}}}},"responses":{"200":{"description":"Partner updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerResponseDto"}}}},"404":{"description":"Partner not found"}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]},"delete":{"operationId":"AdminPartnersController_delete","summary":"Delete a partner","parameters":[{"name":"id","required":true,"in":"path","description":"Partner ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Partner deleted"},"404":{"description":"Partner not found"}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/partners/{id}/commissions":{"get":{"operationId":"AdminPartnersController_getPartnerCommissions","summary":"Get partner commissions","parameters":[{"name":"id","required":true,"in":"path","description":"Partner ID","schema":{"type":"string"}},{"name":"startDate","required":false,"in":"query","description":"Start date","schema":{"type":"string"}},{"name":"endDate","required":false,"in":"query","description":"End date","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"Commissions list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommissionsListResponseDto"}}}},"404":{"description":"Partner not found"}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/partners/commissions/{id}/status":{"patch":{"operationId":"AdminPartnersController_updateCommissionStatus","summary":"Update commission status","parameters":[{"name":"id","required":true,"in":"path","description":"Commission ID","schema":{"type":"string"}},{"name":"status","required":true,"in":"query","schema":{"enum":["PENDING","APPROVED","PAID","CANCELLED"],"type":"string"}}],"responses":{"200":{"description":"Commission updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommissionResponseDto"}}}},"404":{"description":"Commission not found"}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/partners/resources":{"post":{"operationId":"AdminPartnersController_createResource","summary":"Create a partner resource","parameters":[{"name":"partnerId","required":false,"in":"query","description":"Partner ID (optional for public resources)","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateResourceDto"}}}},"responses":{"201":{"description":"Resource created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResourceResponseDto"}}}}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/admin/partners/resources/{id}":{"delete":{"operationId":"AdminPartnersController_deleteResource","summary":"Delete a partner resource","parameters":[{"name":"id","required":true,"in":"path","description":"Resource ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Resource deleted"},"404":{"description":"Resource not found"}},"tags":["Admin - Partners"],"security":[{"x-tenant-id":[]},{"bearer":[]}]}},"/api/v1/notifications":{"get":{"operationId":"NotificationsController_findAll","summary":"Get current user notifications","parameters":[{"name":"type","required":false,"in":"query","schema":{"enum":["INFO","WARNING","SUCCESS","ERROR","APPROVAL_REQUIRED","APPROVAL_COMPLETED","CONTRACT_EXPIRING","QUOTE_EXPIRING"],"type":"string"}},{"name":"isRead","required":false,"in":"query","description":"Filter by read status","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of notifications with pagination"}},"tags":["notifications"],"security":[{"bearer":[]}]},"post":{"operationId":"NotificationsController_create","summary":"Create a notification (admin)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateNotificationDto"}}}},"responses":{"201":{"description":"Notification created"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/unread-count":{"get":{"operationId":"NotificationsController_getUnreadCount","summary":"Get unread notification count","parameters":[],"responses":{"200":{"description":"Unread notification count"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/{id}":{"get":{"operationId":"NotificationsController_findOne","summary":"Get a notification by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Notification ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Notification found"},"404":{"description":"Notification not found"}},"tags":["notifications"],"security":[{"bearer":[]}]},"delete":{"operationId":"NotificationsController_remove","summary":"Delete a notification","parameters":[{"name":"id","required":true,"in":"path","description":"Notification ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Notification deleted"},"404":{"description":"Notification not found"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/bulk":{"post":{"operationId":"NotificationsController_createBulk","summary":"Create notifications for multiple users (admin)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCreateNotificationDto"}}}},"responses":{"201":{"description":"Notifications created"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/{id}/read":{"patch":{"operationId":"NotificationsController_markAsRead","summary":"Mark a notification as read","parameters":[{"name":"id","required":true,"in":"path","description":"Notification ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Notification marked as read"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/read/all":{"patch":{"operationId":"NotificationsController_markAllAsRead","summary":"Mark all notifications as read","parameters":[],"responses":{"200":{"description":"All notifications marked as read"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/read/batch":{"post":{"operationId":"NotificationsController_markManyAsRead","summary":"Mark multiple notifications as read","parameters":[],"responses":{"200":{"description":"Notifications marked as read"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/email":{"post":{"operationId":"NotificationsController_queueEmail","summary":"Queue an email for delivery (admin)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailDto"}}}},"responses":{"201":{"description":"Email queued"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/email/bulk":{"post":{"operationId":"NotificationsController_queueBulkEmails","summary":"Queue bulk emails for delivery (admin)","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkSendEmailDto"}}}},"responses":{"201":{"description":"Emails queued"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/notifications/email/stats":{"get":{"operationId":"NotificationsController_getQueueStats","summary":"Get email queue statistics (admin)","parameters":[],"responses":{"200":{"description":"Queue statistics"}},"tags":["notifications"],"security":[{"bearer":[]}]}},"/api/v1/files/upload":{"post":{"operationId":"FilesController_uploadFile","summary":"Upload a file","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"},"entityType":{"type":"string","description":"Entity type the file is associated with"},"entityId":{"type":"string","description":"Entity ID the file is associated with"},"isPublic":{"type":"boolean","description":"Whether the file should be publicly accessible"}},"required":["file"]}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponseDto"}}}},"400":{"description":"Invalid file"}},"tags":["Files"],"security":[{"bearer":[]}]}},"/api/v1/files":{"get":{"operationId":"FilesController_listFiles","summary":"List files","parameters":[{"name":"entityType","required":false,"in":"query","description":"Filter by entity type","schema":{"type":"string"}},{"name":"entityId","required":false,"in":"query","description":"Filter by entity ID","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"Files retrieved successfully"}},"tags":["Files"],"security":[{"bearer":[]}]}},"/api/v1/files/{id}":{"get":{"operationId":"FilesController_getFile","summary":"Get file metadata","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponseDto"}}}},"404":{"description":"File not found"}},"tags":["Files"],"security":[{"bearer":[]}]},"delete":{"operationId":"FilesController_deleteFile","summary":"Delete a file (soft delete)","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""},"204":{"description":"File deleted"},"404":{"description":"File not found"}},"tags":["Files"],"security":[{"bearer":[]}]}},"/api/v1/files/{id}/download":{"get":{"operationId":"FilesController_downloadFile","summary":"Download file content","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"File content"},"404":{"description":"File not found"}},"tags":["Files"],"security":[{"bearer":[]}]}},"/api/v1/files/{id}/signed-url":{"get":{"operationId":"FilesController_getSignedUrl","summary":"Get signed download URL","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"expiresIn","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignedUrlResponseDto"}}}},"404":{"description":"File not found"}},"tags":["Files"],"security":[{"bearer":[]}]}},"/api/v1/files/entity/{entityType}/{entityId}":{"get":{"operationId":"FilesController_getFilesByEntity","summary":"Get files by entity","parameters":[{"name":"entityType","required":true,"in":"path","schema":{"type":"string"}},{"name":"entityId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponseDto"}}}}}},"tags":["Files"],"security":[{"bearer":[]}]}},"/api/v1/dashboard/kpis":{"get":{"operationId":"DashboardController_getKpis","summary":"Get dashboard KPIs","parameters":[{"name":"refresh","required":false,"in":"query","description":"Force refresh cache","schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KpiResponseDto"}}}}},"tags":["Dashboard"],"security":[{"bearer":[]}]}},"/api/v1/dashboard/kpis/invalidate":{"post":{"operationId":"DashboardController_invalidateCache","summary":"Invalidate KPIs cache","parameters":[],"responses":{"201":{"description":""},"204":{"description":"Cache invalidated"}},"tags":["Dashboard"],"security":[{"bearer":[]}]}},"/api/v1/agent/tools":{"get":{"operationId":"ToolsController_listTools","summary":"List all available agent tools","parameters":[{"name":"category","required":false,"in":"query","description":"Filter by category","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolsListResponseDto"}}}}},"tags":["Agent Tools"],"security":[{"bearer":[]}]}},"/api/v1/agent/tools/categories":{"get":{"operationId":"ToolsController_getCategories","summary":"List available tool categories","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}}},"tags":["Agent Tools"],"security":[{"bearer":[]}]}},"/api/v1/agent/tools/{name}":{"get":{"operationId":"ToolsController_getTool","summary":"Get details of a specific tool","parameters":[{"name":"name","required":true,"in":"path","description":"Tool name","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolResponseDto"}}}},"404":{"description":"Tool not found"}},"tags":["Agent Tools"],"security":[{"bearer":[]}]}},"/api/v1/agent/execute":{"post":{"operationId":"OrchestratorController_executeTool","summary":"Execute an agent tool","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteToolDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutionResultDto"}}}},"400":{"description":"Invalid tool or parameters"},"403":{"description":"Insufficient permissions or rate limited"}},"tags":["Agent Orchestrator"],"security":[{"bearer":[]}]}},"/api/v1/agent/execute/batch":{"post":{"operationId":"OrchestratorController_executeMultipleTools","summary":"Execute multiple agent tools","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteMultipleToolsDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleExecutionResultDto"}}}},"400":{"description":"Invalid tools or parameters"},"403":{"description":"Insufficient permissions or rate limited"}},"tags":["Agent Orchestrator"],"security":[{"bearer":[]}]}},"/api/v1/agent/rate-limit":{"get":{"operationId":"OrchestratorController_getRateLimitInfo","summary":"Get current rate limit info","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitInfoDto"}}}}},"tags":["Agent Orchestrator"],"security":[{"bearer":[]}]}},"/api/v1/integrations/messages":{"post":{"operationId":"IntegrationHubController_routeMessage","summary":"Route a new integration message","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateIntegrationMessageDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntegrationMessageResponseDto"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]},"get":{"operationId":"IntegrationHubController_listMessages","summary":"List integration messages","parameters":[{"name":"sourceConnector","required":false,"in":"query","description":"Filter by source connector","schema":{"type":"string"}},{"name":"targetConnector","required":false,"in":"query","description":"Filter by target connector","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","schema":{"enum":["PENDING","TRANSFORMING","TRANSFORMED","ROUTING","PROCESSING","COMPLETED","FAILED","RETRYING","DEAD_LETTER"],"type":"string"}},{"name":"direction","required":false,"in":"query","schema":{"enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"],"type":"string"}},{"name":"type","required":false,"in":"query","description":"Filter by message type","schema":{"type":"string"}},{"name":"correlationId","required":false,"in":"query","description":"Filter by correlation ID","schema":{"type":"string"}},{"name":"includeDlq","required":false,"in":"query","description":"Include dead-letter messages","schema":{"default":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/messages/{id}":{"get":{"operationId":"IntegrationHubController_getMessage","summary":"Get a message by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Message ID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IntegrationMessageResponseDto"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/messages/reprocess":{"post":{"operationId":"IntegrationHubController_reprocessMessage","summary":"Reprocess a failed message","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReprocessMessageDto"}}}},"responses":{"200":{"description":""},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors":{"post":{"operationId":"ConnectorRegistryController_registerConnector","summary":"Register a new connector","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterConnectorDto"}}}},"responses":{"201":{"description":"Connector registered","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorResponseDto"}}}},"400":{"description":"Bad request"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"get":{"operationId":"ConnectorRegistryController_listConnectors","summary":"List all registered connectors","parameters":[{"name":"type","required":false,"in":"query","schema":{"enum":["ERP","CRM","ECOMMERCE","PAYMENT","SHIPPING","INVENTORY","WEBHOOK","API","FILE","CUSTOM"],"type":"string"}},{"name":"direction","required":false,"in":"query","schema":{"enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"],"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"isBuiltIn","required":false,"in":"query","description":"Filter by built-in status","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of connectors"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/{id}":{"get":{"operationId":"ConnectorRegistryController_getConnector","summary":"Get connector by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Connector ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Connector details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorResponseDto"}}}},"404":{"description":"Connector not found"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"put":{"operationId":"ConnectorRegistryController_updateConnector","summary":"Update connector registration","parameters":[{"name":"id","required":true,"in":"path","description":"Connector ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateConnectorRegistrationDto"}}}},"responses":{"200":{"description":"Connector updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorResponseDto"}}}},"404":{"description":"Connector not found"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"delete":{"operationId":"ConnectorRegistryController_unregisterConnector","summary":"Unregister a connector","parameters":[{"name":"id","required":true,"in":"path","description":"Connector ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Connector unregistered"},"400":{"description":"Cannot unregister - configurations exist"},"404":{"description":"Connector not found"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/code/{code}":{"get":{"operationId":"ConnectorRegistryController_getConnectorByCode","summary":"Get connector by code","parameters":[{"name":"code","required":true,"in":"path","description":"Connector code","schema":{"type":"string"}}],"responses":{"200":{"description":"Connector details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorResponseDto"}}}},"404":{"description":"Connector not found"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/transformations":{"post":{"operationId":"IntegrationHubController_createTransformation","summary":"Create a new transformation","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransformationDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformationResponseDto"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]},"get":{"operationId":"IntegrationHubController_listTransformations","summary":"List transformations","parameters":[{"name":"sourceConnector","required":false,"in":"query","description":"Filter by source connector","schema":{"type":"string"}},{"name":"targetConnector","required":false,"in":"query","description":"Filter by target connector","schema":{"type":"string"}},{"name":"sourceType","required":false,"in":"query","description":"Filter by source type","schema":{"type":"string"}},{"name":"targetType","required":false,"in":"query","description":"Filter by target type","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/transformations/{id}":{"get":{"operationId":"IntegrationHubController_getTransformation","summary":"Get a transformation by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Transformation ID","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformationResponseDto"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]},"put":{"operationId":"IntegrationHubController_updateTransformation","summary":"Update a transformation","parameters":[{"name":"id","required":true,"in":"path","description":"Transformation ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTransformationDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformationResponseDto"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]},"delete":{"operationId":"IntegrationHubController_deleteTransformation","summary":"Delete a transformation","parameters":[{"name":"id","required":true,"in":"path","description":"Transformation ID","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/transformations/test":{"post":{"operationId":"IntegrationHubController_testTransformation","summary":"Test a transformation with sample payload","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformPayloadDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransformResultDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/dead-letters":{"get":{"operationId":"IntegrationHubController_listDeadLetters","summary":"List dead letter messages","parameters":[{"name":"connector","required":false,"in":"query","description":"Filter by connector","schema":{"type":"string"}},{"name":"reason","required":false,"in":"query","description":"Filter by reason","schema":{"type":"string"}},{"name":"retryable","required":false,"in":"query","description":"Filter by retryable status","schema":{"type":"boolean"}},{"name":"reprocessed","required":false,"in":"query","description":"Filter reprocessed messages","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/dead-letters/stats":{"get":{"operationId":"IntegrationHubController_getDeadLetterStats","summary":"Get dead letter queue statistics","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeadLetterStatsDto"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/dead-letters/reprocess":{"post":{"operationId":"IntegrationHubController_reprocessDeadLetter","summary":"Reprocess a dead letter message","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReprocessDeadLetterDto"}}}},"responses":{"200":{"description":""},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/dead-letters/bulk-reprocess":{"post":{"operationId":"IntegrationHubController_bulkReprocessDeadLetters","summary":"Bulk reprocess dead letter messages","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkReprocessDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkReprocessResultDto"}}}},"201":{"description":""}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/health":{"get":{"operationId":"IntegrationHubController_getAllConnectorsHealth","summary":"Get health status of all connectors","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConnectorHealthDto"}}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/integrations/health/{code}":{"get":{"operationId":"IntegrationHubController_getConnectorHealth","summary":"Get health status of a specific connector","parameters":[{"name":"code","required":true,"in":"path","description":"Connector code","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorHealthDto"}}}}},"tags":["Integration Hub"],"security":[{"bearer":[]}]}},"/api/v1/admin/integrations/connectors/{code}/circuit/reset":{"post":{"operationId":"AdminIntegrationHubController_resetCircuitBreaker","summary":"Reset circuit breaker for a connector","parameters":[{"name":"code","required":true,"in":"path","description":"Connector code","schema":{"type":"string"}}],"responses":{"200":{"description":""},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Integration Hub - Admin"],"security":[{"bearer":[]}]}},"/api/v1/admin/integrations/connectors/{code}/rate-limit/reset":{"post":{"operationId":"AdminIntegrationHubController_resetRateLimit","summary":"Reset rate limit counter for a connector","parameters":[{"name":"code","required":true,"in":"path","description":"Connector code","schema":{"type":"string"}}],"responses":{"200":{"description":""},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Integration Hub - Admin"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/{id}/enable":{"post":{"operationId":"ConnectorRegistryController_enableConnector","summary":"Enable a connector","parameters":[{"name":"id","required":true,"in":"path","description":"Connector ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Connector enabled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorResponseDto"}}}},"201":{"description":""}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/{id}/disable":{"post":{"operationId":"ConnectorRegistryController_disableConnector","summary":"Disable a connector","parameters":[{"name":"id","required":true,"in":"path","description":"Connector ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Connector disabled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorResponseDto"}}}},"201":{"description":""}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/{id}/capabilities":{"post":{"operationId":"ConnectorRegistryController_declareCapabilities","summary":"Declare capabilities for a connector","parameters":[{"name":"id","required":true,"in":"path","description":"Connector ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeclareCapabilitiesDto"}}}},"responses":{"201":{"description":"Capabilities declared","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CapabilityResponseDto"}}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"get":{"operationId":"ConnectorRegistryController_getCapabilities","summary":"Get capabilities for a connector","parameters":[{"name":"id","required":true,"in":"path","description":"Connector ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Connector capabilities","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CapabilityResponseDto"}}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/configs":{"post":{"operationId":"ConnectorRegistryController_configureConnector","summary":"Configure a connector for a tenant","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigureConnectorDto"}}}},"responses":{"201":{"description":"Connector configured","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorConfigResponseDto"}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"get":{"operationId":"ConnectorRegistryController_listConfigs","summary":"List connector configurations for a tenant","parameters":[{"name":"tenantId","required":true,"in":"query","description":"Tenant ID","schema":{"type":"string"}},{"name":"connectorId","required":false,"in":"query","description":"Filter by connector ID","schema":{"type":"string"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of configurations"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/configs/{id}":{"get":{"operationId":"ConnectorRegistryController_getConfig","summary":"Get connector configuration by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Configuration ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Configuration details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorConfigResponseDto"}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"put":{"operationId":"ConnectorRegistryController_updateConfig","summary":"Update connector configuration","parameters":[{"name":"id","required":true,"in":"path","description":"Configuration ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateConnectorConfigDto"}}}},"responses":{"200":{"description":"Configuration updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorConfigResponseDto"}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"delete":{"operationId":"ConnectorRegistryController_deleteConfig","summary":"Delete connector configuration","parameters":[{"name":"id","required":true,"in":"path","description":"Configuration ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Configuration deleted"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/configs/{id}/enable":{"post":{"operationId":"ConnectorRegistryController_enableConfig","summary":"Enable a connector configuration","parameters":[{"name":"id","required":true,"in":"path","description":"Configuration ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Configuration enabled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorConfigResponseDto"}}}},"201":{"description":""}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/configs/{id}/disable":{"post":{"operationId":"ConnectorRegistryController_disableConfig","summary":"Disable a connector configuration","parameters":[{"name":"id","required":true,"in":"path","description":"Configuration ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Configuration disabled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorConfigResponseDto"}}}},"201":{"description":""}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/configs/{id}/test":{"post":{"operationId":"ConnectorRegistryController_testConnection","summary":"Test connector connection","parameters":[{"name":"id","required":true,"in":"path","description":"Configuration ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Test result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectionTestResultDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/configs/{id}/capabilities":{"get":{"operationId":"ConnectorRegistryController_getEnabledCapabilities","summary":"Get enabled capabilities for a configuration","parameters":[{"name":"id","required":true,"in":"path","description":"Configuration ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Enabled capabilities","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CapabilityResponseDto"}}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/execute":{"post":{"operationId":"ConnectorRegistryController_executeCapability","summary":"Execute a capability via connector","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteCapabilityDto"}}}},"responses":{"200":{"description":"Execution result"},"201":{"description":""}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/credentials":{"post":{"operationId":"ConnectorRegistryController_createCredential","summary":"Create credential vault entry","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCredentialDto"}}}},"responses":{"201":{"description":"Credential created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialVaultResponseDto"}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"get":{"operationId":"ConnectorRegistryController_listCredentials","summary":"List credential vault entries","parameters":[{"name":"tenantId","required":true,"in":"query","description":"Tenant ID","schema":{"type":"string"}},{"name":"type","required":false,"in":"query","schema":{"enum":["API_KEY","BASIC_AUTH","OAUTH2","BEARER_TOKEN","CLIENT_CREDENTIALS","CERTIFICATE","SSH_KEY","CUSTOM"],"type":"string"}},{"name":"name","required":false,"in":"query","description":"Search by name","schema":{"type":"string"}},{"name":"includeExpired","required":false,"in":"query","description":"Include expired credentials","schema":{"default":false,"type":"boolean"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":20,"type":"number"}}],"responses":{"200":{"description":"List of credentials"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/credentials/{id}":{"get":{"operationId":"ConnectorRegistryController_getCredential","summary":"Get credential vault entry by ID","parameters":[{"name":"id","required":true,"in":"path","description":"Credential ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Credential details (without decrypted data)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialVaultResponseDto"}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"put":{"operationId":"ConnectorRegistryController_updateCredential","summary":"Update credential vault entry","parameters":[{"name":"id","required":true,"in":"path","description":"Credential ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCredentialDto"}}}},"responses":{"200":{"description":"Credential updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialVaultResponseDto"}}}}},"tags":["Connector Registry"],"security":[{"bearer":[]}]},"delete":{"operationId":"ConnectorRegistryController_deleteCredential","summary":"Delete credential vault entry","parameters":[{"name":"id","required":true,"in":"path","description":"Credential ID","schema":{"type":"string"}}],"responses":{"204":{"description":"Credential deleted"},"400":{"description":"Cannot delete - in use by configurations"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/credentials/{id}/rotate":{"post":{"operationId":"ConnectorRegistryController_rotateCredential","summary":"Rotate credentials","parameters":[{"name":"id","required":true,"in":"path","description":"Credential ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RotateCredentialDto"}}}},"responses":{"200":{"description":"Credentials rotated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialVaultResponseDto"}}}},"201":{"description":""}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/credentials/expiring":{"get":{"operationId":"ConnectorRegistryController_getExpiringCredentials","summary":"Get credentials expiring soon","parameters":[{"name":"tenantId","required":true,"in":"query","schema":{"type":"string"}},{"name":"withinDays","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"List of expiring credentials"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/credentials/needs-rotation":{"get":{"operationId":"ConnectorRegistryController_getCredentialsNeedingRotation","summary":"Get credentials needing rotation","parameters":[{"name":"tenantId","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"List of credentials needing rotation"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/connectors/events":{"get":{"operationId":"ConnectorRegistryController_getEvents","summary":"Get connector events","parameters":[{"name":"connectorCode","required":false,"in":"query","description":"Filter by connector code","schema":{"type":"string"}},{"name":"configId","required":false,"in":"query","description":"Filter by config ID","schema":{"type":"string"}},{"name":"tenantId","required":false,"in":"query","description":"Filter by tenant ID","schema":{"type":"string"}},{"name":"eventType","required":false,"in":"query","schema":{"enum":["REGISTERED","CONFIGURED","ENABLED","DISABLED","TESTED","CONNECTION_SUCCESS","CONNECTION_FAILURE","CREDENTIAL_ROTATED","CAPABILITY_ENABLED","CAPABILITY_DISABLED","ERROR"],"type":"string"}},{"name":"since","required":false,"in":"query","description":"Filter events since date","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","description":"Page number","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Items per page","schema":{"minimum":1,"maximum":100,"default":50,"type":"number"}}],"responses":{"200":{"description":"List of events"}},"tags":["Connector Registry"],"security":[{"bearer":[]}]}},"/api/v1/integrations/webhooks/{configId}":{"post":{"operationId":"RestConnectorController_receiveWebhook","summary":"Receive webhook callback","description":"Receives and processes incoming webhook payloads. Authentication is done via signature validation.","parameters":[{"name":"configId","required":true,"in":"path","description":"Connector configuration ID","schema":{"type":"string"}},{"name":"x-timestamp","in":"header","description":"Webhook timestamp","required":false,"schema":{"type":"string"}},{"name":"x-signature","in":"header","description":"Webhook signature","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Webhook processed successfully"},"400":{"description":"Invalid webhook payload or signature"},"404":{"description":"Connector configuration not found"}},"tags":["Integrations - REST Connector"]}},"/api/v1/integrations/webhooks/{configId}/*":{"post":{"operationId":"RestConnectorController_receiveWebhookWithPath","summary":"Receive webhook with custom path","description":"Receives webhooks with custom sub-paths","parameters":[{"name":"configId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Integrations - REST Connector"]}}},"info":{"title":"B2B API","description":"B2B Operations Platform API","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"},"x-tenant-id":{"type":"apiKey","in":"header","name":"x-tenant-id","description":"Tenant ID or slug"}},"schemas":{"CreateTenantDto":{"type":"object","properties":{"name":{"type":"string","minLength":2,"maxLength":100,"example":"Acme Corporation","description":"Tenant name"},"slug":{"type":"string","minLength":2,"maxLength":50,"pattern":"/^[a-z0-9]+(?:-[a-z0-9]+)*$/","example":"acme-corp","description":"Unique URL-friendly slug for the tenant"},"config":{"type":"object","example":{"theme":"dark","features":["quotes","contracts"]},"description":"Tenant-specific configuration"}},"required":["name","slug"]},"TenantResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"clx1234567890"},"name":{"type":"string","example":"Acme Corporation"},"slug":{"type":"string","example":"acme-corp"},"config":{"type":"object","example":{"theme":"dark","features":["quotes","contracts"]}},"isActive":{"type":"boolean","example":true},"createdAt":{"format":"date-time","type":"string","example":"2024-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","example":"2024-01-01T00:00:00.000Z"},"deletedAt":{"format":"date-time","type":"string","nullable":true,"example":null}},"required":["id","name","slug","config","isActive","createdAt","updatedAt"]},"UpdateTenantDto":{"type":"object","properties":{"name":{"type":"string","minLength":2,"maxLength":100,"example":"Acme Corporation","description":"Tenant name"},"slug":{"type":"string","minLength":2,"maxLength":50,"pattern":"/^[a-z0-9]+(?:-[a-z0-9]+)*$/","example":"acme-corp","description":"Unique URL-friendly slug for the tenant"},"config":{"type":"object","example":{"theme":"dark","features":["quotes","contracts"]},"description":"Tenant-specific configuration"},"isActive":{"type":"boolean","example":true,"description":"Whether the tenant is active"}}},"RegisterDto":{"type":"object","properties":{"email":{"type":"string","example":"user@example.com"},"password":{"type":"string","minLength":8,"pattern":"/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/","example":"SecureP@ss123"},"firstName":{"type":"string","example":"John"},"lastName":{"type":"string","example":"Doe"}},"required":["email","password","firstName","lastName"]},"AuthUserDto":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"role":{"type":"string","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"]},"tenantId":{"type":"string"}},"required":["id","email","firstName","lastName","role","tenantId"]},"AuthResponseDto":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"expiresIn":{"type":"number"},"user":{"$ref":"#/components/schemas/AuthUserDto"}},"required":["accessToken","refreshToken","expiresIn","user"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","example":"user@example.com"},"password":{"type":"string","example":"SecureP@ss123"}},"required":["email","password"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]},"CreateOrganizationDto":{"type":"object","properties":{"name":{"type":"string","minLength":2,"maxLength":100,"example":"Engineering Department","description":"Organization name"},"code":{"type":"string","minLength":2,"maxLength":20,"pattern":"/^[A-Z0-9_-]+$/","example":"ENG","description":"Unique code within the tenant"},"description":{"type":"string","maxLength":500,"example":"Responsible for all engineering activities","description":"Organization description"},"parentId":{"type":"string","example":"clx1234567890","description":"Parent organization ID for hierarchy"}},"required":["name","code"]},"OrganizationResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"clx1234567890"},"name":{"type":"string","example":"Engineering Department"},"code":{"type":"string","example":"ENG"},"description":{"type":"string","nullable":true,"example":"Responsible for all engineering activities"},"isActive":{"type":"boolean","example":true},"parentId":{"type":"string","nullable":true,"example":"clx0987654321"},"tenantId":{"type":"string","example":"clx-tenant-123"},"createdAt":{"format":"date-time","type":"string","example":"2024-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","example":"2024-01-01T00:00:00.000Z"},"deletedAt":{"format":"date-time","type":"string","nullable":true,"example":null}},"required":["id","name","code","isActive","tenantId","createdAt","updatedAt"]},"OrganizationHierarchyResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"code":{"type":"string"},"description":{"type":"string","nullable":true},"isActive":{"type":"boolean"},"children":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationHierarchyResponseDto"}}},"required":["id","name","code","isActive","children"]},"UpdateOrganizationDto":{"type":"object","properties":{"name":{"type":"string","minLength":2,"maxLength":100,"example":"Engineering Department","description":"Organization name"},"code":{"type":"string","minLength":2,"maxLength":20,"pattern":"/^[A-Z0-9_-]+$/","example":"ENG","description":"Unique code within the tenant"},"description":{"type":"string","maxLength":500,"example":"Responsible for all engineering activities","description":"Organization description"},"parentId":{"type":"string","nullable":true,"example":"clx1234567890","description":"Parent organization ID for hierarchy"},"isActive":{"type":"boolean","example":true,"description":"Whether the organization is active"}}},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","example":"john.doe@example.com","description":"User email"},"password":{"type":"string","minLength":8,"pattern":"/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/","example":"SecureP@ss123","description":"User password"},"firstName":{"type":"string","minLength":1,"maxLength":50,"example":"John","description":"User first name"},"lastName":{"type":"string","minLength":1,"maxLength":50,"example":"Doe","description":"User last name"},"role":{"type":"string","example":"USER","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"],"description":"User role"},"organizationId":{"type":"string","example":"clx1234567890","description":"Organization ID"}},"required":["email","password","firstName","lastName"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"clx1234567890"},"email":{"type":"string","example":"john.doe@example.com"},"firstName":{"type":"string","example":"John"},"lastName":{"type":"string","example":"Doe"},"role":{"type":"string","example":"USER","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"]},"isActive":{"type":"boolean","example":true},"lastLoginAt":{"format":"date-time","type":"string","nullable":true,"example":"2024-01-01T00:00:00.000Z"},"tenantId":{"type":"string","example":"clx-tenant-123"},"organizationId":{"type":"string","nullable":true,"example":"clx-org-123"},"createdAt":{"format":"date-time","type":"string","example":"2024-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","example":"2024-01-01T00:00:00.000Z"},"deletedAt":{"format":"date-time","type":"string","nullable":true,"example":null}},"required":["id","email","firstName","lastName","role","isActive","tenantId","createdAt","updatedAt"]},"UpdateProfileDto":{"type":"object","properties":{"firstName":{"type":"string","minLength":1,"maxLength":50,"example":"John","description":"User first name"},"lastName":{"type":"string","minLength":1,"maxLength":50,"example":"Doe","description":"User last name"}}},"ChangePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string","example":"OldP@ss123","description":"Current password"},"newPassword":{"type":"string","minLength":8,"pattern":"/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/","example":"NewP@ss456","description":"New password"}},"required":["currentPassword","newPassword"]},"UpdateUserDto":{"type":"object","properties":{"firstName":{"type":"string","minLength":1,"maxLength":50,"example":"John","description":"User first name"},"lastName":{"type":"string","minLength":1,"maxLength":50,"example":"Doe","description":"User last name"},"role":{"type":"string","example":"USER","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"],"description":"User role"},"organizationId":{"type":"string","nullable":true,"example":"clx1234567890","description":"Organization ID"},"isActive":{"type":"boolean","example":true,"description":"Whether the user is active"}}},"CreateContractDto":{"type":"object","properties":{"title":{"type":"string","minLength":2,"maxLength":200,"example":"Annual Service Agreement","description":"Contract title"},"description":{"type":"string","maxLength":2000,"example":"Comprehensive service agreement for 2024","description":"Contract description"},"effectiveDate":{"type":"string","example":"2024-01-01","description":"Contract effective date"},"expirationDate":{"type":"string","example":"2024-12-31","description":"Contract expiration date"},"totalValue":{"type":"number","minimum":1,"example":100000,"description":"Total contract value"},"currency":{"type":"string","maxLength":3,"example":"USD","description":"Currency code"},"organizationId":{"type":"string","example":"org-id-123","description":"Organization ID"},"terms":{"type":"object","example":{"paymentTerms":"Net 30","autoRenewal":true},"description":"Contract terms"},"metadata":{"type":"object","example":{"priority":"high","department":"sales"},"description":"Additional metadata"}},"required":["title"]},"ContractVersionResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"version-id-123"},"version":{"type":"number","example":1},"changes":{"type":"object","example":{"title":{"from":"Old Title","to":"New Title"}}},"createdAt":{"format":"date-time","type":"string"}},"required":["id","version","changes","createdAt"]},"ContractResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"contract-id-123"},"contractNumber":{"type":"string","example":"CNT-2024-0001"},"title":{"type":"string","example":"Annual Service Agreement"},"description":{"type":"string","nullable":true,"example":"Comprehensive service agreement for 2024"},"status":{"type":"string","enum":["DRAFT","PENDING_APPROVAL","APPROVED","ACTIVE","EXPIRED","TERMINATED","CANCELLED"],"example":"DRAFT"},"version":{"type":"number","example":1},"effectiveDate":{"format":"date-time","type":"string","nullable":true,"example":"2024-01-01T00:00:00.000Z"},"expirationDate":{"format":"date-time","type":"string","nullable":true,"example":"2024-12-31T00:00:00.000Z"},"totalValue":{"type":"string","nullable":true,"example":"100000.00"},"currency":{"type":"string","example":"USD"},"terms":{"type":"object","example":{"paymentTerms":"Net 30"}},"metadata":{"type":"object","example":{"priority":"high"}},"tenantId":{"type":"string","example":"tenant-id-123"},"organizationId":{"type":"string","nullable":true,"example":"org-id-123"},"createdById":{"type":"string","example":"user-id-123"},"approvedById":{"type":"string","nullable":true,"example":"user-id-456"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string","nullable":true},"versions":{"type":"array","items":{"$ref":"#/components/schemas/ContractVersionResponseDto"}}},"required":["id","contractNumber","title","status","version","currency","terms","metadata","tenantId","createdById","createdAt","updatedAt"]},"UpdateContractDto":{"type":"object","properties":{"title":{"type":"string","minLength":2,"maxLength":200,"example":"Updated Service Agreement","description":"Contract title"},"description":{"type":"string","maxLength":2000,"example":"Updated contract description","description":"Contract description"},"effectiveDate":{"type":"string","example":"2024-02-01","description":"Contract effective date"},"expirationDate":{"type":"string","example":"2025-01-31","description":"Contract expiration date"},"totalValue":{"type":"number","minimum":1,"example":150000,"description":"Total contract value"},"currency":{"type":"string","maxLength":3,"example":"EUR","description":"Currency code"},"organizationId":{"type":"string","example":"org-id-456","description":"Organization ID"},"terms":{"type":"object","example":{"paymentTerms":"Net 45","autoRenewal":false},"description":"Contract terms"},"metadata":{"type":"object","example":{"priority":"medium"},"description":"Additional metadata"}}},"WorkflowActionDto":{"type":"object","properties":{"comments":{"type":"string","maxLength":2000,"example":"Approved after legal review","description":"Comments for the workflow action"}}},"CreateQuoteLineItemDto":{"type":"object","properties":{"masterProductId":{"type":"string","example":"prod-123","description":"Master product ID from catalog. When provided, name/SKU/price are auto-resolved."},"productName":{"type":"string","maxLength":200,"example":"Enterprise Software License","description":"Product name (required if masterProductId not provided)"},"productSku":{"type":"string","maxLength":50,"example":"SKU-001","description":"Product SKU"},"description":{"type":"string","maxLength":500,"example":"Annual license for 100 users","description":"Line item description"},"quantity":{"type":"number","minimum":1,"example":10,"description":"Quantity"},"unitPrice":{"type":"number","minimum":1,"example":1000,"description":"Unit price (auto-resolved from catalog if masterProductId provided)"},"discount":{"type":"number","minimum":0,"example":100,"description":"Discount amount","default":0}},"required":["quantity"]},"CreateQuoteDto":{"type":"object","properties":{"title":{"type":"string","minLength":2,"maxLength":200,"example":"Q4 Enterprise Deal","description":"Quote title"},"description":{"type":"string","maxLength":2000,"example":"Annual software licensing quote","description":"Quote description"},"validUntil":{"type":"string","example":"2024-03-31","description":"Quote validity date"},"currency":{"type":"string","maxLength":3,"example":"USD","description":"Currency code"},"notes":{"type":"string","maxLength":5000,"example":"Terms and conditions apply","description":"Additional notes"},"contractId":{"type":"string","example":"contract-id-123","description":"Associated contract ID"},"metadata":{"type":"object","example":{"priority":"high","source":"web"},"description":"Additional metadata"},"lineItems":{"description":"Quote line items","type":"array","items":{"$ref":"#/components/schemas/CreateQuoteLineItemDto"}}},"required":["title","lineItems"]},"QuoteLineItemResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"line-item-id-123"},"lineNumber":{"type":"number","example":1},"productName":{"type":"string","example":"Enterprise Software License"},"productSku":{"type":"string","nullable":true,"example":"SKU-001"},"description":{"type":"string","nullable":true,"example":"Annual license for 100 users"},"quantity":{"type":"number","example":10},"unitPrice":{"type":"string","example":"1000.00"},"discount":{"type":"string","example":"100.00"},"total":{"type":"string","example":"9900.00"},"masterProductId":{"type":"string","nullable":true,"example":"master-product-id-123"}},"required":["id","lineNumber","productName","quantity","unitPrice","discount","total"]},"QuoteResponseDto":{"type":"object","properties":{"id":{"type":"string","example":"quote-id-123"},"quoteNumber":{"type":"string","example":"QT-2024-0001"},"title":{"type":"string","example":"Q4 Enterprise Deal"},"description":{"type":"string","nullable":true,"example":"Annual software licensing quote"},"status":{"type":"string","enum":["DRAFT","PENDING_APPROVAL","APPROVED","SENT","ACCEPTED","REJECTED","EXPIRED","CONVERTED"],"example":"DRAFT"},"validUntil":{"format":"date-time","type":"string","nullable":true,"example":"2024-03-31T00:00:00.000Z"},"subtotal":{"type":"string","example":"10000.00"},"discount":{"type":"string","example":"500.00"},"tax":{"type":"string","example":"950.00"},"total":{"type":"string","example":"10450.00"},"currency":{"type":"string","example":"USD"},"notes":{"type":"string","nullable":true,"example":"Terms and conditions apply"},"metadata":{"type":"object","example":{"priority":"high"}},"tenantId":{"type":"string","example":"tenant-id-123"},"contractId":{"type":"string","nullable":true,"example":"contract-id-123"},"createdById":{"type":"string","example":"user-id-123"},"approvedById":{"type":"string","nullable":true,"example":"user-id-456"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"deletedAt":{"format":"date-time","type":"string","nullable":true},"lineItems":{"type":"array","items":{"$ref":"#/components/schemas/QuoteLineItemResponseDto"}}},"required":["id","quoteNumber","title","status","subtotal","discount","tax","total","currency","metadata","tenantId","createdById","createdAt","updatedAt","lineItems"]},"UpdateQuoteDto":{"type":"object","properties":{"title":{"type":"string","minLength":2,"maxLength":200,"example":"Updated Quote Title","description":"Quote title"},"description":{"type":"string","maxLength":2000,"example":"Updated description","description":"Quote description"},"validUntil":{"type":"string","example":"2024-04-30","description":"Quote validity date"},"currency":{"type":"string","maxLength":3,"example":"EUR","description":"Currency code"},"notes":{"type":"string","maxLength":5000,"example":"Updated notes","description":"Additional notes"},"contractId":{"type":"string","example":"contract-id-456","description":"Associated contract ID"},"metadata":{"type":"object","example":{"priority":"medium"},"description":"Additional metadata"},"lineItems":{"description":"Quote line items (replaces all)","type":"array","items":{"$ref":"#/components/schemas/CreateQuoteLineItemDto"}}}},"QuoteWorkflowActionDto":{"type":"object","properties":{"comments":{"type":"string","maxLength":2000,"example":"Approved after customer review","description":"Comments for the workflow action"}}},"CategoryResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Category ID","example":"clh1234567890"},"name":{"type":"string","description":"Category name","example":"Electronics"},"slug":{"type":"string","description":"URL-friendly slug","example":"electronics"},"description":{"type":"string","nullable":true,"description":"Category description"},"imageUrl":{"type":"string","nullable":true,"description":"Category image URL"},"parentId":{"type":"string","nullable":true,"description":"Parent category ID"},"isActive":{"type":"boolean","description":"Is category active","example":true},"sortOrder":{"type":"number","description":"Sort order","example":0},"productCount":{"type":"number","description":"Number of products in category","example":25},"children":{"description":"Child categories","type":"array","items":{"$ref":"#/components/schemas/CategoryResponseDto"}}},"required":["id","name","slug","isActive","sortOrder","productCount"]},"CategoryTreeResponseDto":{"type":"object","properties":{"data":{"description":"Category tree with nested children","type":"array","items":{"$ref":"#/components/schemas/CategoryResponseDto"}},"total":{"type":"number","description":"Total number of categories","example":15}},"required":["data","total"]},"ProductCategoryDto":{"type":"object","properties":{"id":{"type":"string","description":"Category ID","example":"clh123"},"name":{"type":"string","description":"Category name","example":"Electronics"},"slug":{"type":"string","description":"Category slug","example":"electronics"}},"required":["id","name","slug"]},"TenantPricingDto":{"type":"object","properties":{"agreedPrice":{"type":"string","nullable":true,"description":"Agreed fixed price for the tenant","example":"899.99"},"discountPercent":{"type":"string","nullable":true,"description":"Discount percentage off list price","example":"10.00"},"minQuantity":{"type":"number","nullable":true,"description":"Minimum quantity per order","example":1},"maxQuantity":{"type":"number","nullable":true,"description":"Maximum quantity per order","example":100},"validFrom":{"format":"date-time","type":"string","nullable":true,"description":"Pricing validity start date","example":"2026-01-01"},"validUntil":{"format":"date-time","type":"string","nullable":true,"description":"Pricing validity end date","example":"2026-12-31"}}},"TenantProductResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Product ID (master product ID)","example":"clh1234567890"},"sku":{"type":"string","description":"Unique product SKU","example":"PROD-001"},"name":{"type":"string","description":"Product name","example":"Enterprise Software License"},"description":{"type":"string","nullable":true,"description":"Product description"},"category":{"type":"string","nullable":true,"description":"Product category (legacy text field)"},"subcategory":{"type":"string","nullable":true,"description":"Product subcategory"},"brand":{"type":"string","nullable":true,"description":"Brand name"},"uom":{"type":"string","description":"Unit of measure","example":"EA"},"listPrice":{"type":"string","description":"List price (base price)","example":"999.99"},"effectivePrice":{"type":"string","description":"Effective price for tenant (after discounts/agreed price)","example":"899.99"},"discountedPrice":{"type":"string","nullable":true,"description":"Discounted price after applying promotions/tier discounts","example":"849.99"},"currency":{"type":"string","description":"Currency code","example":"USD"},"status":{"type":"string","description":"Product status","enum":["ACTIVE","DISCONTINUED","ARCHIVED"]},"availability":{"type":"string","description":"Product availability status","enum":["IN_STOCK","LOW_STOCK","OUT_OF_STOCK","PREORDER","DISCONTINUED"]},"primaryImage":{"type":"string","nullable":true,"description":"Primary product image URL"},"images":{"description":"Additional product images","type":"array","items":{"type":"string"}},"categoryEntity":{"nullable":true,"description":"Category entity (hierarchical)","allOf":[{"$ref":"#/components/schemas/ProductCategoryDto"}]},"tenantPricing":{"nullable":true,"description":"Tenant-specific pricing details","allOf":[{"$ref":"#/components/schemas/TenantPricingDto"}]},"hasAccess":{"type":"boolean","description":"Whether tenant has access to this product","example":true}},"required":["id","sku","name","uom","listPrice","effectivePrice","currency","status","availability","hasAccess"]},"TenantProductListResponseDto":{"type":"object","properties":{"data":{"description":"List of products","type":"array","items":{"$ref":"#/components/schemas/TenantProductResponseDto"}},"total":{"type":"number","example":100},"page":{"type":"number","example":1},"limit":{"type":"number","example":20},"totalPages":{"type":"number","example":5}},"required":["data","total","page","limit","totalPages"]},"RelatedProductDto":{"type":"object","properties":{"id":{"type":"string","description":"Product ID","example":"clh123"},"sku":{"type":"string","description":"Product SKU","example":"PROD-002"},"name":{"type":"string","description":"Product name","example":"Related Product"},"description":{"type":"string","nullable":true,"description":"Product description"},"listPrice":{"type":"string","description":"List price","example":"199.99"},"effectivePrice":{"type":"string","description":"Effective price for tenant","example":"179.99"},"primaryImage":{"type":"string","nullable":true,"description":"Primary image URL"},"availability":{"type":"string","description":"Product availability","enum":["IN_STOCK","LOW_STOCK","OUT_OF_STOCK","PREORDER","DISCONTINUED"]}},"required":["id","sku","name","listPrice","availability"]},"RelatedProductsResponseDto":{"type":"object","properties":{"data":{"description":"Related products","type":"array","items":{"$ref":"#/components/schemas/RelatedProductDto"}},"relationType":{"type":"string","description":"Relation type","example":"same_category"}},"required":["data","relationType"]},"SearchSuggestionDto":{"type":"object","properties":{"type":{"type":"object","description":"Suggestion type","example":"product"},"text":{"type":"string","description":"Suggestion text","example":"Apple iPhone"},"id":{"type":"string","description":"Associated ID","example":"clh123"},"count":{"type":"number","description":"Result count for this suggestion","example":25}},"required":["type","text"]},"SearchSuggestionsResponseDto":{"type":"object","properties":{"suggestions":{"description":"Search suggestions","type":"array","items":{"$ref":"#/components/schemas/SearchSuggestionDto"}}},"required":["suggestions"]},"GrantAccessDto":{"type":"object","properties":{"isActive":{"type":"boolean","description":"Whether to grant or revoke access","example":true},"agreedPrice":{"type":"number","minimum":0,"description":"Agreed fixed price (overrides list price)","example":899.99},"discountPercent":{"type":"number","minimum":0,"maximum":100,"description":"Discount percentage off list price","example":10},"minQuantity":{"type":"number","minimum":1,"description":"Minimum quantity per order","example":1},"maxQuantity":{"type":"number","minimum":1,"description":"Maximum quantity per order","example":100},"validFrom":{"type":"string","description":"Pricing validity start date","example":"2026-01-01"},"validUntil":{"type":"string","description":"Pricing validity end date","example":"2026-12-31"}},"required":["isActive"]},"SetPricingDto":{"type":"object","properties":{"agreedPrice":{"type":"number","nullable":true,"minimum":0,"description":"Agreed fixed price (overrides list price)","example":899.99},"discountPercent":{"type":"number","nullable":true,"minimum":0,"maximum":100,"description":"Discount percentage off list price (0-100)","example":10},"minQuantity":{"type":"number","nullable":true,"minimum":1,"description":"Minimum quantity per order","example":1},"maxQuantity":{"type":"number","nullable":true,"minimum":1,"description":"Maximum quantity per order","example":100},"validFrom":{"type":"string","nullable":true,"description":"Pricing validity start date","example":"2026-01-01"},"validUntil":{"type":"string","nullable":true,"description":"Pricing validity end date","example":"2026-12-31"}}},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string","maxLength":100,"description":"Category name","example":"Electronics"},"slug":{"type":"string","maxLength":100,"description":"URL-friendly slug","example":"electronics"},"description":{"type":"string","description":"Category description"},"imageUrl":{"type":"string","description":"Category image URL"},"parentId":{"type":"string","description":"Parent category ID for hierarchy"},"sortOrder":{"type":"number","minimum":0,"description":"Sort order","default":0},"isActive":{"type":"boolean","description":"Is category active","default":true}},"required":["name","slug"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string","maxLength":100,"description":"Category name","example":"Electronics"},"slug":{"type":"string","maxLength":100,"description":"URL-friendly slug","example":"electronics"},"description":{"type":"string","description":"Category description"},"imageUrl":{"type":"string","description":"Category image URL"},"parentId":{"type":"string","nullable":true,"description":"Parent category ID for hierarchy"},"sortOrder":{"type":"number","minimum":0,"description":"Sort order","default":0},"isActive":{"type":"boolean","description":"Is category active","default":true}}},"CreateMasterProductDto":{"type":"object","properties":{"sku":{"type":"string","maxLength":100,"description":"Unique product SKU","example":"PROD-001"},"name":{"type":"string","maxLength":255,"description":"Product name","example":"Enterprise Software License"},"description":{"type":"string","maxLength":2000,"description":"Product description","example":"Annual enterprise software license with premium support"},"category":{"type":"string","maxLength":100,"description":"Product category","example":"Software"},"subcategory":{"type":"string","maxLength":100,"description":"Product subcategory","example":"Licenses"},"brand":{"type":"string","maxLength":100,"description":"Brand name","example":"Acme Corp"},"manufacturer":{"type":"string","maxLength":100,"description":"Manufacturer name","example":"Acme Industries"},"uom":{"type":"string","maxLength":20,"description":"Unit of measure","example":"EA","default":"EA"},"listPrice":{"type":"number","minimum":0,"description":"List price","example":999.99},"currency":{"type":"string","maxLength":3,"description":"Currency code","example":"USD","default":"USD"},"status":{"type":"string","description":"Product status","enum":["ACTIVE","DISCONTINUED","ARCHIVED"],"default":"ACTIVE"},"attributes":{"type":"object","description":"Additional product attributes as JSON","example":{"weight":"2.5kg","dimensions":"10x20x30cm"}}},"required":["sku","name","listPrice"]},"MasterProductResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Product ID","example":"clh1234567890"},"sku":{"type":"string","description":"Unique product SKU","example":"PROD-001"},"name":{"type":"string","description":"Product name","example":"Enterprise Software License"},"description":{"type":"string","nullable":true,"description":"Product description","example":"Annual enterprise software license with premium support"},"category":{"type":"string","nullable":true,"description":"Product category","example":"Software"},"subcategory":{"type":"string","nullable":true,"description":"Product subcategory","example":"Licenses"},"brand":{"type":"string","nullable":true,"description":"Brand name","example":"Acme Corp"},"manufacturer":{"type":"string","nullable":true,"description":"Manufacturer name","example":"Acme Industries"},"uom":{"type":"string","description":"Unit of measure","example":"EA"},"listPrice":{"type":"string","description":"List price","example":"999.99"},"currency":{"type":"string","description":"Currency code","example":"USD"},"status":{"type":"string","description":"Product status","enum":["ACTIVE","DISCONTINUED","ARCHIVED"],"example":"ACTIVE"},"attributes":{"type":"object","description":"Additional product attributes","example":{"weight":"2.5kg","dimensions":"10x20x30cm"}},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp","example":"2026-01-15T10:30:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Last updated timestamp","example":"2026-01-15T10:30:00.000Z"}},"required":["id","sku","name","uom","listPrice","currency","status","createdAt","updatedAt"]},"MasterProductListResponseDto":{"type":"object","properties":{"data":{"description":"List of products","type":"array","items":{"$ref":"#/components/schemas/MasterProductResponseDto"}},"total":{"type":"number","description":"Total number of products","example":100},"page":{"type":"number","description":"Current page number","example":1},"limit":{"type":"number","description":"Items per page","example":20},"totalPages":{"type":"number","description":"Total number of pages","example":5}},"required":["data","total","page","limit","totalPages"]},"UpdateMasterProductDto":{"type":"object","properties":{"sku":{"type":"string","maxLength":100,"description":"Unique product SKU","example":"PROD-001"},"name":{"type":"string","maxLength":255,"description":"Product name","example":"Enterprise Software License"},"description":{"type":"string","maxLength":2000,"description":"Product description","example":"Annual enterprise software license with premium support"},"category":{"type":"string","maxLength":100,"description":"Product category","example":"Software"},"subcategory":{"type":"string","maxLength":100,"description":"Product subcategory","example":"Licenses"},"brand":{"type":"string","maxLength":100,"description":"Brand name","example":"Acme Corp"},"manufacturer":{"type":"string","maxLength":100,"description":"Manufacturer name","example":"Acme Industries"},"uom":{"type":"string","maxLength":20,"description":"Unit of measure","example":"EA"},"listPrice":{"type":"number","minimum":0,"description":"List price","example":999.99},"currency":{"type":"string","maxLength":3,"description":"Currency code","example":"USD"},"status":{"type":"string","description":"Product status","enum":["ACTIVE","DISCONTINUED","ARCHIVED"]},"attributes":{"type":"object","description":"Additional product attributes as JSON","example":{"weight":"2.5kg","dimensions":"10x20x30cm"}}}},"ImportStatisticsDto":{"type":"object","properties":{"total":{"type":"number","description":"Total products in import file","example":500},"imported":{"type":"number","description":"Products successfully imported","example":490},"skipped":{"type":"number","description":"Products skipped (duplicates)","example":10},"failed":{"type":"number","description":"Products that failed validation","example":0},"errors":{"description":"List of errors if any","example":[{"sku":"INVALID-001","error":"Invalid price format"}],"type":"array","items":{"type":"string"}},"durationMs":{"type":"number","description":"Import duration in milliseconds","example":1234}},"required":["total","imported","skipped","failed","durationMs"]},"ImportResponseDto":{"type":"object","properties":{"success":{"type":"boolean","description":"Import success status","example":true},"statistics":{"description":"Import statistics","allOf":[{"$ref":"#/components/schemas/ImportStatisticsDto"}]},"message":{"type":"string","description":"Message","example":"Import completed successfully"}},"required":["success","statistics"]},"CreateApprovalChainLevelDto":{"type":"object","properties":{"level":{"type":"number","minimum":1,"maximum":10,"description":"Level number (1-based, lower = earlier in chain)","example":1},"name":{"type":"string","maxLength":100,"description":"Level name","example":"Manager Approval"},"approverType":{"type":"string","description":"Type of approver for this level","enum":["USER","ROLE","MANAGER","ORGANIZATION_HEAD"]},"approverUserId":{"type":"string","description":"User ID if approverType is USER"},"approverRoleId":{"type":"string","description":"Role (as string) if approverType is ROLE"},"minApprovers":{"type":"number","minimum":1,"maximum":10,"description":"Minimum number of approvers required at this level","example":1,"default":1},"allowDelegation":{"type":"boolean","description":"Allow delegation at this level","default":false},"thresholdMin":{"type":"number","minimum":0,"description":"Minimum threshold value for this level to apply","example":10000},"thresholdMax":{"type":"number","minimum":0,"description":"Maximum threshold value for this level to apply","example":50000},"timeoutHours":{"type":"number","minimum":1,"description":"Timeout in hours before escalation","example":24},"escalationLevel":{"type":"number","minimum":1,"description":"Level to escalate to on timeout"}},"required":["level","name","approverType"]},"CreateApprovalChainDto":{"type":"object","properties":{"name":{"type":"string","maxLength":100,"description":"Name of the approval chain","example":"Contract Approval Chain"},"description":{"type":"string","maxLength":500,"description":"Description of the approval chain"},"entityType":{"type":"string","description":"Entity type this chain applies to","enum":["CONTRACT","QUOTE"]},"isDefault":{"type":"boolean","description":"Whether this is the default chain for the entity type","default":false},"conditions":{"type":"object","description":"Conditions for when this chain applies (JSON)","example":{"minValue":10000,"currency":"USD"}},"levels":{"description":"Approval levels in the chain","type":"array","items":{"$ref":"#/components/schemas/CreateApprovalChainLevelDto"}}},"required":["name","entityType","levels"]},"ApprovalChainLevelResponseDto":{"type":"object","properties":{"id":{"type":"string"},"level":{"type":"number"},"name":{"type":"string"},"approverType":{"type":"string","enum":["USER","ROLE","MANAGER","ORGANIZATION_HEAD"]},"approverUserId":{"type":"string","nullable":true},"approverRoleId":{"type":"string","nullable":true},"minApprovers":{"type":"number"},"allowDelegation":{"type":"boolean"},"thresholdMin":{"type":"string","nullable":true},"thresholdMax":{"type":"string","nullable":true},"timeoutHours":{"type":"number","nullable":true},"escalationLevel":{"type":"number","nullable":true}},"required":["id","level","name","approverType","minApprovers","allowDelegation"]},"ApprovalChainResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string","nullable":true},"entityType":{"type":"string","enum":["CONTRACT","QUOTE"]},"isActive":{"type":"boolean"},"isDefault":{"type":"boolean"},"conditions":{"type":"object"},"levels":{"type":"array","items":{"$ref":"#/components/schemas/ApprovalChainLevelResponseDto"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","entityType","isActive","isDefault","levels","createdAt","updatedAt"]},"ApprovalChainListResponseDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ApprovalChainResponseDto"}},"total":{"type":"number"},"page":{"type":"number"},"limit":{"type":"number"},"totalPages":{"type":"number"}},"required":["data","total","page","limit","totalPages"]},"UpdateApprovalChainDto":{"type":"object","properties":{"name":{"type":"string","maxLength":100,"description":"Name of the approval chain","example":"Contract Approval Chain"},"description":{"type":"string","maxLength":500,"description":"Description of the approval chain"},"isDefault":{"type":"boolean","description":"Whether this is the default chain for the entity type","default":false},"conditions":{"type":"object","description":"Conditions for when this chain applies (JSON)","example":{"minValue":10000,"currency":"USD"}},"levels":{"description":"Approval levels in the chain","type":"array","items":{"$ref":"#/components/schemas/CreateApprovalChainLevelDto"}}}},"SubmitApprovalDto":{"type":"object","properties":{"entityType":{"type":"string","description":"Entity type being submitted for approval","enum":["CONTRACT","QUOTE"]},"entityId":{"type":"string","description":"ID of the entity being submitted","example":"clh1234567890"},"chainId":{"type":"string","description":"Optional chain ID to use (defaults to default chain)"},"metadata":{"type":"object","description":"Additional metadata for the approval request"}},"required":["entityType","entityId"]},"ApprovalStepResponseDto":{"type":"object","properties":{"id":{"type":"string"},"level":{"type":"number"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED","CANCELLED"]},"comments":{"type":"string","nullable":true},"delegatedFrom":{"type":"string","nullable":true},"approverId":{"type":"string"},"requestedAt":{"format":"date-time","type":"string"},"respondedAt":{"format":"date-time","type":"string","nullable":true}},"required":["id","level","status","approverId","requestedAt"]},"ApprovalRequestResponseDto":{"type":"object","properties":{"id":{"type":"string"},"entityType":{"type":"string","enum":["CONTRACT","QUOTE"]},"entityId":{"type":"string"},"status":{"type":"string","enum":["PENDING","IN_PROGRESS","APPROVED","REJECTED","CANCELLED","EXPIRED"]},"currentLevel":{"type":"number"},"metadata":{"type":"object"},"chainId":{"type":"string"},"requesterId":{"type":"string"},"steps":{"type":"array","items":{"$ref":"#/components/schemas/ApprovalStepResponseDto"}},"requestedAt":{"format":"date-time","type":"string"},"completedAt":{"format":"date-time","type":"string","nullable":true},"expiresAt":{"format":"date-time","type":"string","nullable":true}},"required":["id","entityType","entityId","status","currentLevel","chainId","requesterId","steps","requestedAt"]},"PendingApprovalResponseDto":{"type":"object","properties":{"id":{"type":"string"},"stepId":{"type":"string"},"entityType":{"type":"string","enum":["CONTRACT","QUOTE"]},"entityId":{"type":"string"},"level":{"type":"number"},"levelName":{"type":"string"},"allowDelegation":{"type":"boolean"},"delegatedFrom":{"type":"string","nullable":true},"requestedAt":{"format":"date-time","type":"string"},"expiresAt":{"format":"date-time","type":"string","nullable":true}},"required":["id","stepId","entityType","entityId","level","levelName","allowDelegation","requestedAt"]},"ApprovalActionDto":{"type":"object","properties":{"comments":{"type":"string","maxLength":1000,"description":"Comments for the approval action"}}},"DelegateApprovalDto":{"type":"object","properties":{"delegateToUserId":{"type":"string","description":"User ID to delegate to","example":"user-id-123"},"reason":{"type":"string","maxLength":500,"description":"Reason for delegation"}},"required":["delegateToUserId"]},"CartItemResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Cart item ID"},"productName":{"type":"string","description":"Product name"},"productSku":{"type":"string","nullable":true,"description":"Product SKU"},"quantity":{"type":"number","description":"Quantity"},"unitPrice":{"type":"string","description":"Unit price"},"discount":{"type":"string","description":"Line item discount"},"total":{"type":"string","description":"Line item total"},"masterProductId":{"type":"string","nullable":true,"description":"Master product ID from catalog"},"metadata":{"type":"object","description":"Additional metadata"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","productName","quantity","unitPrice","discount","total","metadata","createdAt","updatedAt"]},"CartResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Cart ID"},"subtotal":{"type":"string","description":"Subtotal (before discounts)"},"discount":{"type":"string","description":"Total discount (item discounts)"},"tax":{"type":"string","description":"Tax amount"},"total":{"type":"string","description":"Final total"},"couponCode":{"type":"string","nullable":true,"description":"Applied coupon code"},"couponDiscount":{"type":"string","description":"Coupon discount amount"},"metadata":{"type":"object","description":"Additional metadata"},"items":{"description":"Cart items","type":"array","items":{"$ref":"#/components/schemas/CartItemResponseDto"}},"itemCount":{"type":"number","description":"Number of items in cart"},"tenantId":{"type":"string","description":"Tenant ID"},"userId":{"type":"string","description":"User ID"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","subtotal","discount","tax","total","couponDiscount","metadata","items","itemCount","tenantId","userId","createdAt","updatedAt"]},"AddCartItemDto":{"type":"object","properties":{"masterProductId":{"type":"string","description":"Master product ID from catalog","example":"clxyz123..."},"productName":{"type":"string","description":"Product name (required if masterProductId not provided)","example":"Enterprise Software License"},"productSku":{"type":"string","description":"Product SKU","example":"ESL-2024-001"},"quantity":{"type":"number","minimum":1,"description":"Quantity to add","example":2},"unitPrice":{"type":"number","description":"Unit price (required if masterProductId not provided)","example":199.99},"discount":{"type":"number","minimum":0,"description":"Line item discount","example":10},"metadata":{"type":"object","description":"Additional metadata","example":{"notes":"Priority item"}}},"required":["quantity"]},"UpdateCartItemDto":{"type":"object","properties":{"quantity":{"type":"number","minimum":1,"description":"Updated quantity","example":3},"discount":{"type":"number","minimum":0,"description":"Updated discount","example":15},"metadata":{"type":"object","description":"Additional metadata","example":{"notes":"Updated notes"}}},"required":["quantity"]},"ApplyCouponDto":{"type":"object","properties":{"code":{"type":"string","description":"Coupon code"},"orderAmount":{"type":"number","minimum":0,"description":"Order amount for validation"}},"required":["code","orderAmount"]},"AddressDto":{"type":"object","properties":{"street1":{"type":"string","description":"Street address line 1"},"street2":{"type":"string","description":"Street address line 2"},"city":{"type":"string","description":"City"},"state":{"type":"string","description":"State/Province"},"postalCode":{"type":"string","description":"Postal/ZIP code"},"country":{"type":"string","description":"Country"}}},"CreateOrderDto":{"type":"object","properties":{"notes":{"type":"string","description":"Optional notes for the order","example":"Please deliver before noon"},"shippingAddress":{"description":"Shipping address","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"billingAddress":{"description":"Billing address","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"metadata":{"type":"object","description":"Additional metadata","example":{"priority":"high"}}}},"AddressResponseDto":{"type":"object","properties":{"street1":{"type":"string","description":"Street address line 1"},"street2":{"type":"string","description":"Street address line 2"},"city":{"type":"string","description":"City"},"state":{"type":"string","description":"State/Province"},"postalCode":{"type":"string","description":"Postal/ZIP code"},"country":{"type":"string","description":"Country"}}},"OrderItemResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Order item ID"},"lineNumber":{"type":"number","description":"Line number"},"productName":{"type":"string","description":"Product name"},"productSku":{"type":"string","description":"Product SKU"},"description":{"type":"string","description":"Product description"},"quantity":{"type":"number","description":"Quantity"},"unitPrice":{"type":"string","description":"Unit price"},"discount":{"type":"string","description":"Line discount"},"total":{"type":"string","description":"Line total"},"masterProductId":{"type":"string","description":"Master product ID"},"metadata":{"type":"object","description":"Additional metadata"}},"required":["id","lineNumber","productName","quantity","unitPrice","discount","total"]},"OrderResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Order ID"},"orderNumber":{"type":"string","description":"Order number","example":"ORD-2026-00001"},"status":{"type":"string","description":"Order status","enum":["DRAFT","PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED"]},"subtotal":{"type":"string","description":"Subtotal before discounts"},"discount":{"type":"string","description":"Item discounts"},"couponCode":{"type":"string","description":"Applied coupon code"},"couponDiscount":{"type":"string","description":"Coupon discount"},"tax":{"type":"string","description":"Tax amount"},"total":{"type":"string","description":"Order total"},"currency":{"type":"string","description":"Currency code","example":"USD"},"notes":{"type":"string","description":"Order notes"},"shippingAddress":{"description":"Shipping address","allOf":[{"$ref":"#/components/schemas/AddressResponseDto"}]},"billingAddress":{"description":"Billing address","allOf":[{"$ref":"#/components/schemas/AddressResponseDto"}]},"trackingNumber":{"type":"string","description":"Tracking number"},"trackingUrl":{"type":"string","description":"Tracking URL"},"carrier":{"type":"string","description":"Shipping carrier"},"estimatedDelivery":{"type":"string","description":"Estimated delivery date"},"items":{"description":"Order items","type":"array","items":{"$ref":"#/components/schemas/OrderItemResponseDto"}},"itemCount":{"type":"number","description":"Number of items"},"confirmedAt":{"type":"string","description":"Confirmed date"},"processingAt":{"type":"string","description":"Processing started date"},"shippedAt":{"type":"string","description":"Shipped date"},"deliveredAt":{"type":"string","description":"Delivered date"},"cancelledAt":{"type":"string","description":"Cancelled date"},"refundedAt":{"type":"string","description":"Refunded date"},"metadata":{"type":"object","description":"Additional metadata"},"createdAt":{"type":"string","description":"Created date"},"updatedAt":{"type":"string","description":"Updated date"},"tenantId":{"type":"string","description":"Tenant ID"},"userId":{"type":"string","description":"User ID"}},"required":["id","orderNumber","status","subtotal","discount","couponDiscount","tax","total","currency","shippingAddress","billingAddress","items","itemCount","createdAt","updatedAt","tenantId","userId"]},"OrderListResponseDto":{"type":"object","properties":{"data":{"description":"List of orders","type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}},"total":{"type":"number","description":"Total number of orders"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"},"totalPages":{"type":"number","description":"Total number of pages"},"hasNext":{"type":"boolean","description":"Has next page"},"hasPrevious":{"type":"boolean","description":"Has previous page"}},"required":["data","total","page","limit","totalPages","hasNext","hasPrevious"]},"TrackingResponseDto":{"type":"object","properties":{"trackingNumber":{"type":"string","description":"Tracking number"},"trackingUrl":{"type":"string","description":"Tracking URL"},"carrier":{"type":"string","description":"Shipping carrier"},"estimatedDelivery":{"type":"string","description":"Estimated delivery date"},"status":{"type":"object","description":"Order status"},"shippedAt":{"type":"string","description":"Shipped date"},"deliveredAt":{"type":"string","description":"Delivered date"}},"required":["status"]},"CancelOrderDto":{"type":"object","properties":{"reason":{"type":"string","maxLength":500,"description":"Reason for cancellation","example":"Changed my mind"}}},"UpdateOrderDto":{"type":"object","properties":{"status":{"type":"string","description":"Order status","enum":["DRAFT","PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED"]},"notes":{"type":"string","description":"Order notes"},"shippingAddress":{"description":"Shipping address","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"billingAddress":{"description":"Billing address","allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"trackingNumber":{"type":"string","description":"Tracking number","example":"1Z999AA10123456784"},"trackingUrl":{"type":"string","description":"Tracking URL","example":"https://track.carrier.com/1Z999AA10123456784"},"carrier":{"type":"string","description":"Shipping carrier","example":"UPS"},"estimatedDelivery":{"type":"string","description":"Estimated delivery date","example":"2026-02-15T00:00:00Z"},"metadata":{"type":"object","description":"Additional metadata"}}},"RefundOrderDto":{"type":"object","properties":{"amount":{"type":"number","minimum":0.01,"description":"Refund amount","example":99.99},"reason":{"type":"string","maxLength":500,"description":"Reason for refund","example":"Customer requested refund"}},"required":["amount"]},"PaymentMethodResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Payment method ID"},"code":{"type":"string","description":"Unique code"},"name":{"type":"string","description":"Display name"},"description":{"type":"string","nullable":true,"description":"Description"},"type":{"type":"string","description":"Payment method type","enum":["CREDIT_CARD","DEBIT_CARD","BANK_TRANSFER","SALARY_DEDUCTION","INVOICE","WALLET"]},"isActive":{"type":"boolean","description":"Is active"},"sortOrder":{"type":"number","description":"Sort order"},"minAmount":{"type":"string","nullable":true,"description":"Minimum order amount"},"maxAmount":{"type":"string","nullable":true,"description":"Maximum order amount"},"processingFee":{"type":"string","description":"Fixed processing fee"},"processingFeePercent":{"type":"string","description":"Processing fee percentage"},"config":{"type":"object","description":"Additional configuration"},"allowedUserRoles":{"type":"array","description":"User roles that can use this payment method","items":{"type":"string","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"]}},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","code","name","type","isActive","sortOrder","processingFee","processingFeePercent","createdAt","updatedAt"]},"CreatePaymentMethodDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique code for the payment method"},"name":{"type":"string","description":"Display name"},"description":{"type":"string","description":"Description"},"type":{"type":"string","description":"Payment method type","enum":["CREDIT_CARD","DEBIT_CARD","BANK_TRANSFER","SALARY_DEDUCTION","INVOICE","WALLET"]},"isActive":{"type":"boolean","description":"Is active","default":true},"sortOrder":{"type":"number","minimum":0,"description":"Sort order","default":0},"minAmount":{"type":"number","minimum":0,"description":"Minimum order amount"},"maxAmount":{"type":"number","minimum":0,"description":"Maximum order amount"},"processingFee":{"type":"number","minimum":0,"description":"Fixed processing fee","default":0},"processingFeePercent":{"type":"number","minimum":0,"description":"Processing fee percentage","default":0},"config":{"type":"object","description":"Additional configuration"},"allowedUserRoles":{"type":"array","description":"User roles that can use this payment method","items":{"type":"string","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"]}}},"required":["code","name","type"]},"UpdatePaymentMethodDto":{"type":"object","properties":{"name":{"type":"string","description":"Display name"},"description":{"type":"string","description":"Description"},"isActive":{"type":"boolean","description":"Is active"},"sortOrder":{"type":"number","minimum":0,"description":"Sort order"},"minAmount":{"type":"number","minimum":0,"description":"Minimum order amount"},"maxAmount":{"type":"number","minimum":0,"description":"Maximum order amount"},"processingFee":{"type":"number","minimum":0,"description":"Fixed processing fee"},"processingFeePercent":{"type":"number","minimum":0,"description":"Processing fee percentage"},"config":{"type":"object","description":"Additional configuration"},"allowedUserRoles":{"type":"array","description":"User roles that can use this payment method","items":{"type":"string","enum":["SUPER_ADMIN","ADMIN","MANAGER","USER","VIEWER"]}}}},"DeliveryMethodResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Delivery method ID"},"code":{"type":"string","description":"Unique code"},"name":{"type":"string","description":"Display name"},"description":{"type":"string","nullable":true,"description":"Description"},"isActive":{"type":"boolean","description":"Is active"},"sortOrder":{"type":"number","description":"Sort order"},"minDays":{"type":"number","nullable":true,"description":"Minimum delivery days"},"maxDays":{"type":"number","nullable":true,"description":"Maximum delivery days"},"baseCost":{"type":"string","description":"Base delivery cost"},"freeThreshold":{"type":"string","nullable":true,"description":"Free delivery threshold"},"config":{"type":"object","description":"Additional configuration"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","code","name","isActive","sortOrder","baseCost","createdAt","updatedAt"]},"CreateDeliveryMethodDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique code for the delivery method"},"name":{"type":"string","description":"Display name"},"description":{"type":"string","description":"Description"},"isActive":{"type":"boolean","description":"Is active","default":true},"sortOrder":{"type":"number","minimum":0,"description":"Sort order","default":0},"minDays":{"type":"number","minimum":0,"description":"Minimum delivery days"},"maxDays":{"type":"number","minimum":0,"description":"Maximum delivery days"},"baseCost":{"type":"number","minimum":0,"description":"Base delivery cost","default":0},"freeThreshold":{"type":"number","minimum":0,"description":"Free delivery threshold (order amount)"},"config":{"type":"object","description":"Additional configuration"}},"required":["code","name"]},"UpdateDeliveryMethodDto":{"type":"object","properties":{"name":{"type":"string","description":"Display name"},"description":{"type":"string","description":"Description"},"isActive":{"type":"boolean","description":"Is active"},"sortOrder":{"type":"number","minimum":0,"description":"Sort order"},"minDays":{"type":"number","minimum":0,"description":"Minimum delivery days"},"maxDays":{"type":"number","minimum":0,"description":"Maximum delivery days"},"baseCost":{"type":"number","minimum":0,"description":"Base delivery cost"},"freeThreshold":{"type":"number","minimum":0,"description":"Free delivery threshold (order amount)"},"config":{"type":"object","description":"Additional configuration"}}},"UserAddressResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Address ID"},"label":{"type":"string","nullable":true,"description":"Address label"},"firstName":{"type":"string","description":"First name"},"lastName":{"type":"string","description":"Last name"},"company":{"type":"string","nullable":true,"description":"Company name"},"street1":{"type":"string","description":"Street address line 1"},"street2":{"type":"string","nullable":true,"description":"Street address line 2"},"city":{"type":"string","description":"City"},"state":{"type":"string","nullable":true,"description":"State/Province"},"postalCode":{"type":"string","description":"Postal/ZIP code"},"country":{"type":"string","description":"Country code"},"phone":{"type":"string","nullable":true,"description":"Phone number"},"isDefault":{"type":"boolean","description":"Is default address"},"isShipping":{"type":"boolean","description":"Can be used for shipping"},"isBilling":{"type":"boolean","description":"Can be used for billing"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","firstName","lastName","street1","city","postalCode","country","isDefault","isShipping","isBilling","createdAt","updatedAt"]},"CreateUserAddressDto":{"type":"object","properties":{"label":{"type":"string","maxLength":50,"description":"Address label (e.g., \"Home\", \"Office\")"},"firstName":{"type":"string","minLength":1,"maxLength":100,"description":"First name"},"lastName":{"type":"string","minLength":1,"maxLength":100,"description":"Last name"},"company":{"type":"string","maxLength":200,"description":"Company name"},"street1":{"type":"string","minLength":1,"maxLength":500,"description":"Street address line 1"},"street2":{"type":"string","maxLength":500,"description":"Street address line 2"},"city":{"type":"string","minLength":1,"maxLength":100,"description":"City"},"state":{"type":"string","maxLength":100,"description":"State/Province"},"postalCode":{"type":"string","minLength":1,"maxLength":20,"description":"Postal/ZIP code"},"country":{"type":"string","maxLength":2,"description":"Country code (ISO 3166-1 alpha-2)","default":"US"},"phone":{"type":"string","maxLength":30,"description":"Phone number"},"isDefault":{"type":"boolean","description":"Set as default address","default":false},"isShipping":{"type":"boolean","description":"Can be used for shipping","default":true},"isBilling":{"type":"boolean","description":"Can be used for billing","default":true}},"required":["firstName","lastName","street1","city","postalCode"]},"UpdateUserAddressDto":{"type":"object","properties":{"label":{"type":"string","maxLength":50,"description":"Address label"},"firstName":{"type":"string","minLength":1,"maxLength":100,"description":"First name"},"lastName":{"type":"string","minLength":1,"maxLength":100,"description":"Last name"},"company":{"type":"string","maxLength":200,"description":"Company name"},"street1":{"type":"string","minLength":1,"maxLength":500,"description":"Street address line 1"},"street2":{"type":"string","maxLength":500,"description":"Street address line 2"},"city":{"type":"string","minLength":1,"maxLength":100,"description":"City"},"state":{"type":"string","maxLength":100,"description":"State/Province"},"postalCode":{"type":"string","minLength":1,"maxLength":20,"description":"Postal/ZIP code"},"country":{"type":"string","maxLength":2,"description":"Country code"},"phone":{"type":"string","maxLength":30,"description":"Phone number"},"isDefault":{"type":"boolean","description":"Set as default address"},"isShipping":{"type":"boolean","description":"Can be used for shipping"},"isBilling":{"type":"boolean","description":"Can be used for billing"}}},"ProcessPaymentDto":{"type":"object","properties":{"paymentMethodId":{"type":"string","description":"Payment method ID to use"},"externalRef":{"type":"string","description":"External payment reference (e.g., transaction ID from gateway)"},"metadata":{"type":"object","description":"Additional payment metadata"}},"required":["paymentMethodId"]},"PaymentResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Payment ID"},"paymentNumber":{"type":"string","description":"Payment number"},"amount":{"type":"string","description":"Payment amount"},"currency":{"type":"string","description":"Currency"},"status":{"type":"string","description":"Payment status","enum":["PENDING","PROCESSING","COMPLETED","FAILED","REFUNDED","CANCELLED"]},"externalRef":{"type":"string","nullable":true,"description":"External payment reference"},"metadata":{"type":"object","description":"Additional metadata"},"processedAt":{"format":"date-time","type":"string","nullable":true,"description":"When payment was processed"},"failedAt":{"format":"date-time","type":"string","nullable":true,"description":"When payment failed"},"failureReason":{"type":"string","nullable":true,"description":"Failure reason"},"orderId":{"type":"string","description":"Order ID"},"paymentMethodId":{"type":"string","description":"Payment method ID"},"paymentMethod":{"type":"object","properties":{"id":{"required":true,"type":"string"},"code":{"required":true,"type":"string"},"name":{"required":true,"type":"string"},"type":{"required":true,"type":"object"}}},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","paymentNumber","amount","currency","status","orderId","paymentMethodId","paymentMethod","createdAt","updatedAt"]},"PaymentHistoryResponseDto":{"type":"object","properties":{"payments":{"description":"List of payments","type":"array","items":{"$ref":"#/components/schemas/PaymentResponseDto"}},"total":{"type":"number","description":"Total number of payments"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["payments","total","page","limit"]},"SalaryDeductionResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Salary deduction ID"},"monthlyLimit":{"type":"string","description":"Monthly limit amount"},"usedAmount":{"type":"string","description":"Amount used this period"},"remainingAmount":{"type":"string","description":"Remaining amount for this period"},"isEnabled":{"type":"boolean","description":"Is enabled"},"periodStart":{"format":"date-time","type":"string","description":"Period start date"},"periodEnd":{"format":"date-time","type":"string","description":"Period end date"},"autoRenewal":{"type":"boolean","description":"Auto-renewal enabled"},"userId":{"type":"string","description":"User ID"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","monthlyLimit","usedAmount","remainingAmount","isEnabled","periodStart","periodEnd","autoRenewal","createdAt","updatedAt"]},"SalaryDeductionTransactionResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Transaction ID"},"amount":{"type":"string","description":"Amount"},"type":{"type":"string","description":"Transaction type","enum":["DEDUCTION","REFUND","ADJUSTMENT"]},"status":{"type":"string","description":"Status","enum":["PENDING","COMPLETED","FAILED","REVERSED"]},"reference":{"type":"string","nullable":true,"description":"Reference"},"description":{"type":"string","nullable":true,"description":"Description"},"processedAt":{"format":"date-time","type":"string","nullable":true,"description":"Processed timestamp"},"orderId":{"type":"string","nullable":true,"description":"Order ID"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"}},"required":["id","amount","type","status","createdAt"]},"SalaryDeductionHistoryResponseDto":{"type":"object","properties":{"transactions":{"description":"Transactions","type":"array","items":{"$ref":"#/components/schemas/SalaryDeductionTransactionResponseDto"}},"total":{"type":"number","description":"Total count"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["transactions","total","page","limit"]},"UpdateSalaryDeductionPreferencesDto":{"type":"object","properties":{"isEnabled":{"type":"boolean","description":"Enable/disable salary deduction"},"autoRenewal":{"type":"boolean","description":"Enable auto-renewal of monthly limits"}}},"CreateLimitRequestDto":{"type":"object","properties":{"requestedLimit":{"type":"number","minimum":0,"description":"Requested new monthly limit"},"reason":{"type":"string","description":"Reason for limit increase request"}},"required":["requestedLimit"]},"LimitRequestResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Request ID"},"requestedLimit":{"type":"string","description":"Requested limit"},"currentLimit":{"type":"string","description":"Current limit at time of request"},"reason":{"type":"string","nullable":true,"description":"Request reason"},"status":{"type":"string","description":"Status","enum":["PENDING","APPROVED","REJECTED","CANCELLED"]},"reviewNotes":{"type":"string","nullable":true,"description":"Review notes"},"reviewedAt":{"format":"date-time","type":"string","nullable":true,"description":"Reviewed timestamp"},"userId":{"type":"string","description":"User ID"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"}},"required":["id","requestedLimit","currentLimit","status","createdAt"]},"AdminSalaryDeductionListResponseDto":{"type":"object","properties":{"deductions":{"description":"Salary deductions","type":"array","items":{"$ref":"#/components/schemas/SalaryDeductionResponseDto"}},"total":{"type":"number","description":"Total count"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["deductions","total","page","limit"]},"AdminUpdateSalaryDeductionDto":{"type":"object","properties":{"monthlyLimit":{"type":"number","minimum":0,"description":"Monthly limit amount"},"isEnabled":{"type":"boolean","description":"Enable/disable salary deduction"},"metadata":{"type":"object","description":"Additional metadata"}}},"SalaryDeductionReportResponseDto":{"type":"object","properties":{"periodStart":{"format":"date-time","type":"string","description":"Report period start"},"periodEnd":{"format":"date-time","type":"string","description":"Report period end"},"totalEnrolled":{"type":"number","description":"Total enrolled users"},"totalActive":{"type":"number","description":"Total active users"},"totalDeducted":{"type":"string","description":"Total deducted amount"},"totalLimit":{"type":"string","description":"Total limit available"},"utilizationRate":{"type":"number","description":"Utilization rate percentage"},"pendingRequests":{"type":"number","description":"Pending limit requests"}},"required":["periodStart","periodEnd","totalEnrolled","totalActive","totalDeducted","totalLimit","utilizationRate","pendingRequests"]},"LimitRequestListResponseDto":{"type":"object","properties":{"requests":{"description":"Limit requests","type":"array","items":{"$ref":"#/components/schemas/LimitRequestResponseDto"}},"total":{"type":"number","description":"Total count"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["requests","total","page","limit"]},"ApproveRejectLimitRequestDto":{"type":"object","properties":{"reviewNotes":{"type":"string","description":"Review notes"}}},"DiscountTierResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Tier ID"},"name":{"type":"string","description":"Tier name"},"code":{"type":"string","description":"Tier code"},"description":{"type":"string","nullable":true,"description":"Description"},"level":{"type":"number","description":"Tier level"},"discountPercent":{"type":"number","description":"Discount percentage"},"minSpend":{"type":"number","nullable":true,"description":"Minimum spend"},"minOrders":{"type":"number","nullable":true,"description":"Minimum orders"},"isActive":{"type":"boolean","description":"Is active"},"color":{"type":"string","nullable":true,"description":"Display color"},"icon":{"type":"string","nullable":true,"description":"Display icon"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","name","code","level","discountPercent","isActive","createdAt","updatedAt"]},"UserDiscountTierResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Assignment ID"},"userId":{"type":"string","description":"User ID"},"tier":{"description":"Tier details","allOf":[{"$ref":"#/components/schemas/DiscountTierResponseDto"}]},"assignedAt":{"format":"date-time","type":"string","description":"Assigned timestamp"},"expiresAt":{"format":"date-time","type":"string","nullable":true,"description":"Expiration timestamp"},"reason":{"type":"string","nullable":true,"description":"Assignment reason"},"totalSpend":{"type":"number","description":"Total spend"},"totalOrders":{"type":"number","description":"Total orders"},"totalSavings":{"type":"number","description":"Total savings"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","userId","tier","assignedAt","totalSpend","totalOrders","totalSavings","createdAt","updatedAt"]},"UserSavingsResponseDto":{"type":"object","properties":{"currentTier":{"nullable":true,"description":"Current tier","allOf":[{"$ref":"#/components/schemas/DiscountTierResponseDto"}]},"totalSpend":{"type":"number","description":"Total spend"},"totalOrders":{"type":"number","description":"Total orders"},"totalSavings":{"type":"number","description":"Total savings"},"nextTier":{"nullable":true,"description":"Next tier","allOf":[{"$ref":"#/components/schemas/DiscountTierResponseDto"}]},"spendToNextTier":{"type":"number","nullable":true,"description":"Amount to spend for next tier"},"ordersToNextTier":{"type":"number","nullable":true,"description":"Orders needed for next tier"}},"required":["totalSpend","totalOrders","totalSavings"]},"DiscountTiersListResponseDto":{"type":"object","properties":{"tiers":{"description":"Tiers list","type":"array","items":{"$ref":"#/components/schemas/DiscountTierResponseDto"}},"total":{"type":"number","description":"Total count"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["tiers","total","page","limit"]},"CreateDiscountTierDto":{"type":"object","properties":{"name":{"type":"string","description":"Tier name"},"code":{"type":"string","description":"Unique tier code"},"description":{"type":"string","description":"Description"},"level":{"type":"number","minimum":0,"description":"Tier level (0 = lowest)"},"discountPercent":{"type":"number","minimum":0,"maximum":100,"description":"Discount percentage (0-100)"},"minSpend":{"type":"number","minimum":0,"description":"Minimum spend to qualify"},"minOrders":{"type":"number","minimum":0,"description":"Minimum orders to qualify"},"isActive":{"type":"boolean","description":"Is active","default":true},"color":{"type":"string","description":"Display color (hex)"},"icon":{"type":"string","description":"Display icon"},"metadata":{"type":"object","description":"Additional metadata"}},"required":["name","code","discountPercent"]},"UpdateDiscountTierDto":{"type":"object","properties":{"name":{"type":"string","description":"Tier name"},"description":{"type":"string","description":"Description"},"level":{"type":"number","minimum":0,"description":"Tier level"},"discountPercent":{"type":"number","minimum":0,"maximum":100,"description":"Discount percentage (0-100)"},"minSpend":{"type":"number","minimum":0,"description":"Minimum spend to qualify"},"minOrders":{"type":"number","minimum":0,"description":"Minimum orders to qualify"},"isActive":{"type":"boolean","description":"Is active"},"color":{"type":"string","description":"Display color (hex)"},"icon":{"type":"string","description":"Display icon"},"metadata":{"type":"object","description":"Additional metadata"}}},"AssignDiscountTierDto":{"type":"object","properties":{"userId":{"type":"string","description":"User ID to assign"},"expiresAt":{"type":"string","description":"Expiration date"},"reason":{"type":"string","description":"Assignment reason"}},"required":["userId"]},"PromotionResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Promotion ID"},"name":{"type":"string","description":"Promotion name"},"code":{"type":"string","description":"Promotion code"},"description":{"type":"string","nullable":true,"description":"Description"},"type":{"type":"string","description":"Promotion type","enum":["PERCENTAGE","FIXED_AMOUNT","BOGO","FREE_SHIPPING"]},"discountValue":{"type":"number","description":"Discount value"},"discountType":{"type":"string","description":"Discount type","enum":["PERCENTAGE","FIXED"]},"minOrderAmount":{"type":"number","nullable":true,"description":"Minimum order amount"},"maxDiscount":{"type":"number","nullable":true,"description":"Maximum discount amount"},"usageLimit":{"type":"number","nullable":true,"description":"Total usage limit"},"usageCount":{"type":"number","description":"Current usage count"},"perUserLimit":{"type":"number","nullable":true,"description":"Per user usage limit"},"startDate":{"format":"date-time","type":"string","description":"Start date"},"endDate":{"format":"date-time","type":"string","description":"End date"},"isActive":{"type":"boolean","description":"Is active"},"targetUserRoles":{"description":"Target user roles","type":"array","items":{"type":"string"}},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","name","code","type","discountValue","discountType","usageCount","startDate","endDate","isActive","targetUserRoles","createdAt","updatedAt"]},"ApplyCouponResponseDto":{"type":"object","properties":{"valid":{"type":"boolean","description":"Is coupon valid"},"discountAmount":{"type":"number","description":"Discount amount"},"message":{"type":"string","description":"Error message"},"promotion":{"description":"Promotion details","allOf":[{"$ref":"#/components/schemas/PromotionResponseDto"}]}},"required":["valid"]},"PromotionsListResponseDto":{"type":"object","properties":{"promotions":{"description":"Promotions list","type":"array","items":{"$ref":"#/components/schemas/PromotionResponseDto"}},"total":{"type":"number","description":"Total count"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["promotions","total","page","limit"]},"CreatePromotionDto":{"type":"object","properties":{"name":{"type":"string","description":"Promotion name"},"code":{"type":"string","description":"Unique promotion code"},"description":{"type":"string","description":"Description"},"type":{"type":"string","description":"Promotion type","enum":["PERCENTAGE","FIXED_AMOUNT","BOGO","FREE_SHIPPING"]},"discountValue":{"type":"number","minimum":0,"description":"Discount value (percentage or fixed amount)"},"discountType":{"type":"string","description":"Discount type","enum":["PERCENTAGE","FIXED"]},"minOrderAmount":{"type":"number","minimum":0,"description":"Minimum order amount"},"maxDiscount":{"type":"number","minimum":0,"description":"Maximum discount amount"},"usageLimit":{"type":"number","minimum":1,"description":"Total usage limit"},"perUserLimit":{"type":"number","minimum":1,"description":"Per user usage limit"},"startDate":{"type":"string","description":"Start date"},"endDate":{"type":"string","description":"End date"},"isActive":{"type":"boolean","description":"Is active","default":true},"targetUserRoles":{"description":"Target user roles","type":"array","items":{"type":"string"}},"conditions":{"type":"object","description":"Conditions (JSON)"},"metadata":{"type":"object","description":"Additional metadata"}},"required":["name","code","type","discountValue","discountType","startDate","endDate"]},"UpdatePromotionDto":{"type":"object","properties":{"name":{"type":"string","description":"Promotion name"},"description":{"type":"string","description":"Description"},"discountValue":{"type":"number","minimum":0,"description":"Discount value"},"discountType":{"type":"string","description":"Discount type","enum":["PERCENTAGE","FIXED"]},"minOrderAmount":{"type":"number","minimum":0,"description":"Minimum order amount"},"maxDiscount":{"type":"number","minimum":0,"description":"Maximum discount amount"},"usageLimit":{"type":"number","minimum":1,"description":"Total usage limit"},"perUserLimit":{"type":"number","minimum":1,"description":"Per user usage limit"},"startDate":{"type":"string","description":"Start date"},"endDate":{"type":"string","description":"End date"},"isActive":{"type":"boolean","description":"Is active"},"targetUserRoles":{"description":"Target user roles","type":"array","items":{"type":"string"}},"conditions":{"type":"object","description":"Conditions (JSON)"},"metadata":{"type":"object","description":"Additional metadata"}}},"PromotionAnalyticsResponseDto":{"type":"object","properties":{"promotionId":{"type":"string","description":"Promotion ID"},"totalUsages":{"type":"number","description":"Total usage count"},"totalDiscountGiven":{"type":"number","description":"Total discount given"},"uniqueUsers":{"type":"number","description":"Unique users count"},"activeCoupons":{"type":"number","description":"Active coupons count"},"usedCoupons":{"type":"number","description":"Used coupons count"},"conversionRate":{"type":"number","description":"Conversion rate (%)"}},"required":["promotionId","totalUsages","totalDiscountGiven","uniqueUsers","activeCoupons","usedCoupons","conversionRate"]},"GenerateCouponsDto":{"type":"object","properties":{"count":{"type":"number","minimum":1,"maximum":1000,"description":"Number of coupons to generate"},"prefix":{"type":"string","description":"Prefix for coupon codes"},"usageLimit":{"type":"number","minimum":1,"description":"Usage limit per coupon","default":1},"expiresAt":{"type":"string","description":"Coupon expiration date"}},"required":["count"]},"CouponResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Coupon ID"},"code":{"type":"string","description":"Coupon code"},"isActive":{"type":"boolean","description":"Is active"},"usageLimit":{"type":"number","description":"Usage limit"},"usageCount":{"type":"number","description":"Current usage count"},"expiresAt":{"format":"date-time","type":"string","nullable":true,"description":"Expiration date"},"assignedToId":{"type":"string","nullable":true,"description":"Assigned to user ID"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"}},"required":["id","code","isActive","usageLimit","usageCount","createdAt"]},"PartnerResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Partner ID"},"code":{"type":"string","description":"Partner code"},"name":{"type":"string","description":"Partner name"},"description":{"type":"string","nullable":true,"description":"Description"},"commissionRate":{"type":"number","description":"Commission rate"},"isActive":{"type":"boolean","description":"Is active"},"userId":{"type":"string","description":"User ID"},"organizationId":{"type":"string","nullable":true,"description":"Organization ID"},"onboardedAt":{"format":"date-time","type":"string","description":"Onboarded timestamp"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Updated timestamp"}},"required":["id","code","name","commissionRate","isActive","userId","onboardedAt","createdAt","updatedAt"]},"CommissionSummaryResponseDto":{"type":"object","properties":{"totalEarned":{"type":"number","description":"Total commission earned"},"totalPending":{"type":"number","description":"Total pending commission"},"totalPaid":{"type":"number","description":"Total paid commission"},"currentMonthCommission":{"type":"number","description":"Current month commission"},"commissionRate":{"type":"number","description":"Current commission rate (%)"},"teamOrderCount":{"type":"number","description":"Number of team orders"}},"required":["totalEarned","totalPending","totalPaid","currentMonthCommission","commissionRate","teamOrderCount"]},"CommissionResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Commission ID"},"amount":{"type":"number","description":"Commission amount"},"rate":{"type":"number","description":"Commission rate (%)"},"orderTotal":{"type":"number","description":"Order total"},"status":{"type":"object","description":"Status"},"orderId":{"type":"string","description":"Order ID"},"teamMemberId":{"type":"string","description":"Team member ID"},"paidAt":{"format":"date-time","type":"string","nullable":true,"description":"Paid timestamp"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"}},"required":["id","amount","rate","orderTotal","status","orderId","teamMemberId","createdAt"]},"CommissionsListResponseDto":{"type":"object","properties":{"commissions":{"description":"Commissions list","type":"array","items":{"$ref":"#/components/schemas/CommissionResponseDto"}},"total":{"type":"number","description":"Total count"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["commissions","total","page","limit"]},"AddTeamMemberDto":{"type":"object","properties":{"userId":{"type":"string","description":"User ID to add as team member"},"role":{"type":"string","description":"Role within the team"},"metadata":{"type":"object","description":"Additional metadata"}},"required":["userId"]},"TeamMemberResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Team member ID"},"userId":{"type":"string","description":"User ID"},"userName":{"type":"string","description":"User name"},"userEmail":{"type":"string","description":"User email"},"role":{"type":"string","nullable":true,"description":"Role"},"isActive":{"type":"boolean","description":"Is active"},"joinedAt":{"format":"date-time","type":"string","description":"Joined timestamp"},"leftAt":{"format":"date-time","type":"string","nullable":true,"description":"Left timestamp"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"}},"required":["id","userId","isActive","joinedAt","createdAt"]},"OrderOnBehalfItemDto":{"type":"object","properties":{"masterProductId":{"type":"string","description":"Master product ID"},"quantity":{"type":"number","minimum":1,"description":"Quantity"}},"required":["masterProductId","quantity"]},"CreateOrderOnBehalfDto":{"type":"object","properties":{"teamMemberUserId":{"type":"string","description":"Team member user ID"},"items":{"description":"Order items","type":"array","items":{"$ref":"#/components/schemas/OrderOnBehalfItemDto"}},"shippingAddressId":{"type":"string","description":"Shipping address ID"},"notes":{"type":"string","description":"Notes"}},"required":["teamMemberUserId","items"]},"PartnersListResponseDto":{"type":"object","properties":{"partners":{"description":"Partners list","type":"array","items":{"$ref":"#/components/schemas/PartnerResponseDto"}},"total":{"type":"number","description":"Total count"},"page":{"type":"number","description":"Current page"},"limit":{"type":"number","description":"Items per page"}},"required":["partners","total","page","limit"]},"CreatePartnerDto":{"type":"object","properties":{"code":{"type":"string","description":"Partner code (unique)"},"name":{"type":"string","description":"Partner name"},"description":{"type":"string","description":"Description"},"userId":{"type":"string","description":"User ID to link as partner"},"organizationId":{"type":"string","description":"Organization ID to link"},"commissionRate":{"type":"number","minimum":0,"maximum":100,"description":"Commission rate (0-100)","default":0},"metadata":{"type":"object","description":"Additional metadata"}},"required":["code","name","userId"]},"UpdatePartnerDto":{"type":"object","properties":{"name":{"type":"string","description":"Partner name"},"description":{"type":"string","description":"Description"},"organizationId":{"type":"string","description":"Organization ID"},"commissionRate":{"type":"number","minimum":0,"maximum":100,"description":"Commission rate (0-100)"},"isActive":{"type":"boolean","description":"Is active"},"metadata":{"type":"object","description":"Additional metadata"}}},"CreateResourceDto":{"type":"object","properties":{"title":{"type":"string","description":"Resource title"},"description":{"type":"string","description":"Description"},"type":{"type":"string","description":"Resource type (e.g., document, video, link)"},"url":{"type":"string","description":"External URL"},"fileKey":{"type":"string","description":"File key if uploaded"},"isPublic":{"type":"boolean","description":"Is publicly accessible","default":false},"sortOrder":{"type":"number","minimum":0,"description":"Sort order","default":0},"metadata":{"type":"object","description":"Additional metadata"}},"required":["title","type"]},"ResourceResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Resource ID"},"title":{"type":"string","description":"Title"},"description":{"type":"string","nullable":true,"description":"Description"},"type":{"type":"string","description":"Type"},"url":{"type":"string","nullable":true,"description":"URL"},"fileKey":{"type":"string","nullable":true,"description":"File key"},"isPublic":{"type":"boolean","description":"Is public"},"sortOrder":{"type":"number","description":"Sort order"},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"}},"required":["id","title","type","isPublic","sortOrder","createdAt"]},"CreateNotificationDto":{"type":"object","properties":{"type":{"type":"string","enum":["INFO","WARNING","SUCCESS","ERROR","APPROVAL_REQUIRED","APPROVAL_COMPLETED","CONTRACT_EXPIRING","QUOTE_EXPIRING"],"example":"INFO"},"title":{"type":"string","example":"New Quote Submitted"},"message":{"type":"string","example":"Quote QT-2026-0001 has been submitted for approval."},"data":{"type":"object","example":{"quoteId":"abc123","action":"review"}},"userId":{"type":"string","description":"Target user ID","example":"user-uuid"}},"required":["type","title","message","userId"]},"BulkCreateNotificationDto":{"type":"object","properties":{"type":{"type":"string","enum":["INFO","WARNING","SUCCESS","ERROR","APPROVAL_REQUIRED","APPROVAL_COMPLETED","CONTRACT_EXPIRING","QUOTE_EXPIRING"],"example":"INFO"},"title":{"type":"string","example":"System Maintenance"},"message":{"type":"string","example":"Scheduled maintenance tonight from 10PM to 2AM."},"data":{"type":"object","example":{"maintenanceId":"123"}},"userIds":{"description":"Target user IDs","type":"array","items":{"type":"string"}}},"required":["type","title","message","userIds"]},"SendEmailDto":{"type":"object","properties":{"to":{"type":"string","example":"user@example.com"},"subject":{"type":"string","example":"Welcome to B2B Platform"},"template":{"type":"string","description":"Email template name","example":"welcome"},"text":{"type":"string","description":"Plain text body (used if no template)","example":"Welcome to our platform!"},"html":{"type":"string","description":"HTML body (used if no template)","example":"<h1>Welcome!</h1>"},"variables":{"type":"object","description":"Template variables","example":{"userName":"John","companyName":"Acme Inc"}}},"required":["to","subject"]},"BulkSendEmailDto":{"type":"object","properties":{"to":{"description":"Recipient email addresses","example":["user1@example.com","user2@example.com"],"type":"array","items":{"type":"string"}},"subject":{"type":"string","example":"Important Update"},"template":{"type":"string","example":"announcement"},"text":{"type":"string","example":"Important update for all users."},"html":{"type":"string","example":"<h1>Important Update</h1>"},"variables":{"type":"object","example":{"announcementTitle":"New Feature Released"}}},"required":["to","subject"]},"FileResponseDto":{"type":"object","properties":{"id":{"type":"string"},"filename":{"type":"string"},"originalName":{"type":"string"},"mimeType":{"type":"string"},"size":{"type":"number"},"bucket":{"type":"string"},"key":{"type":"string"},"entityType":{"type":"string"},"entityId":{"type":"string"},"isPublic":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"downloadUrl":{"type":"string","description":"Signed URL for downloading the file"}},"required":["id","filename","originalName","mimeType","size","bucket","key","isPublic","createdAt"]},"FileUploadResponseDto":{"type":"object","properties":{"file":{"$ref":"#/components/schemas/FileResponseDto"},"message":{"type":"string"}},"required":["file","message"]},"SignedUrlResponseDto":{"type":"object","properties":{"url":{"type":"string"},"expiresIn":{"type":"number"}},"required":["url","expiresIn"]},"ContractKpis":{"type":"object","properties":{"total":{"type":"number"},"draft":{"type":"number"},"pendingApproval":{"type":"number"},"active":{"type":"number"},"expired":{"type":"number"},"expiringThisMonth":{"type":"number"}},"required":["total","draft","pendingApproval","active","expired","expiringThisMonth"]},"QuoteKpis":{"type":"object","properties":{"total":{"type":"number"},"draft":{"type":"number"},"pendingApproval":{"type":"number"},"approved":{"type":"number"},"converted":{"type":"number"},"rejected":{"type":"number"},"conversionRate":{"type":"number"}},"required":["total","draft","pendingApproval","approved","converted","rejected","conversionRate"]},"FinancialKpis":{"type":"object","properties":{"totalContractValue":{"type":"number"},"totalQuoteValue":{"type":"number"},"pendingApprovalValue":{"type":"number"},"currency":{"type":"string"}},"required":["totalContractValue","totalQuoteValue","pendingApprovalValue","currency"]},"RecentActivity":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"action":{"type":"string"},"entityId":{"type":"string"},"entityName":{"type":"string"},"timestamp":{"format":"date-time","type":"string"},"userId":{"type":"string"},"userName":{"type":"string"}},"required":["id","type","action","entityId","entityName","timestamp","userId","userName"]},"KpiResponseDto":{"type":"object","properties":{"contracts":{"$ref":"#/components/schemas/ContractKpis"},"quotes":{"$ref":"#/components/schemas/QuoteKpis"},"financial":{"$ref":"#/components/schemas/FinancialKpis"},"recentActivity":{"type":"array","items":{"$ref":"#/components/schemas/RecentActivity"}},"generatedAt":{"format":"date-time","type":"string"},"cachedUntil":{"format":"date-time","type":"string"}},"required":["contracts","quotes","financial","recentActivity","generatedAt","cachedUntil"]},"ToolParameterDto":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["string","number","boolean","object","array"]},"description":{"type":"string"},"required":{"type":"boolean"},"enum":{"type":"array","items":{"type":"string"}},"default":{"type":"object"}},"required":["name","type","description"]},"ToolExampleDto":{"type":"object","properties":{"input":{"type":"object"},"output":{"type":"string"}},"required":["input","output"]},"ToolResponseDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"parameters":{"type":"array","items":{"$ref":"#/components/schemas/ToolParameterDto"}},"permissions":{"type":"array","items":{"type":"string"}},"examples":{"type":"array","items":{"$ref":"#/components/schemas/ToolExampleDto"}},"handler":{"type":"string"},"method":{"type":"string"},"path":{"type":"string"}},"required":["name","description","category","parameters","handler","method","path"]},"ToolsListResponseDto":{"type":"object","properties":{"tools":{"type":"array","items":{"$ref":"#/components/schemas/ToolResponseDto"}},"total":{"type":"number"},"categories":{"type":"array","items":{"type":"string"}}},"required":["tools","total"]},"ExecuteToolDto":{"type":"object","properties":{"toolName":{"type":"string","description":"Name of the tool to execute"},"parameters":{"type":"object","description":"Parameters for the tool"},"context":{"type":"object","description":"Execution context"},"async":{"type":"boolean","description":"Whether to run asynchronously"}},"required":["toolName"]},"ExecutionResultDto":{"type":"object","properties":{"success":{"type":"boolean"},"toolName":{"type":"string"},"result":{"type":"object"},"error":{"type":"string"},"executionTime":{"type":"number"},"timestamp":{"format":"date-time","type":"string"}},"required":["success","toolName","executionTime","timestamp"]},"ExecuteMultipleToolsDto":{"type":"object","properties":{"tools":{"type":"array","items":{"$ref":"#/components/schemas/ExecuteToolDto"}},"parallel":{"type":"boolean","description":"Whether to run tools in parallel"},"stopOnError":{"type":"boolean","description":"Stop on first error"}},"required":["tools"]},"MultipleExecutionResultDto":{"type":"object","properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/ExecutionResultDto"}},"totalExecutionTime":{"type":"number"},"successCount":{"type":"number"},"failureCount":{"type":"number"},"timestamp":{"format":"date-time","type":"string"}},"required":["results","totalExecutionTime","successCount","failureCount","timestamp"]},"RateLimitInfoDto":{"type":"object","properties":{"remaining":{"type":"number"},"limit":{"type":"number"},"resetAt":{"format":"date-time","type":"string"}},"required":["remaining","limit","resetAt"]},"CreateIntegrationMessageDto":{"type":"object","properties":{"messageId":{"type":"string","description":"Unique message identifier"},"correlationId":{"type":"string","description":"Correlation ID for message tracking"},"sourceConnector":{"type":"string","description":"Source connector code"},"targetConnector":{"type":"string","description":"Target connector code"},"direction":{"type":"string","enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"]},"type":{"type":"string","description":"Message type"},"priority":{"type":"number","minimum":0,"maximum":10,"description":"Message priority (0-10)","default":0},"sourcePayload":{"type":"object","description":"Source payload"},"idempotencyKey":{"type":"string","description":"Idempotency key for deduplication"},"maxRetries":{"type":"number","minimum":0,"maximum":10,"description":"Maximum retry attempts","default":3},"metadata":{"type":"object","description":"Additional metadata"}},"required":["messageId","sourceConnector","targetConnector","direction","type","sourcePayload"]},"IntegrationMessageResponseDto":{"type":"object","properties":{"id":{"type":"string"},"messageId":{"type":"string"},"correlationId":{"type":"string"},"sourceConnector":{"type":"string"},"targetConnector":{"type":"string"},"direction":{"type":"string","enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"]},"type":{"type":"string"},"status":{"type":"string","enum":["PENDING","TRANSFORMING","TRANSFORMED","ROUTING","PROCESSING","COMPLETED","FAILED","RETRYING","DEAD_LETTER"]},"priority":{"type":"number"},"sourcePayload":{"type":"object"},"canonicalPayload":{"type":"object"},"targetPayload":{"type":"object"},"retryCount":{"type":"number"},"maxRetries":{"type":"number"},"lastError":{"type":"string"},"idempotencyKey":{"type":"string"},"isDuplicate":{"type":"boolean"},"receivedAt":{"format":"date-time","type":"string"},"processedAt":{"format":"date-time","type":"string"},"completedAt":{"format":"date-time","type":"string"},"failedAt":{"format":"date-time","type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","messageId","sourceConnector","targetConnector","direction","type","status","priority","sourcePayload","retryCount","maxRetries","isDuplicate","receivedAt","createdAt","updatedAt"]},"ReprocessMessageDto":{"type":"object","properties":{"id":{"type":"string","description":"Message ID to reprocess"},"resetRetryCount":{"type":"boolean","description":"Reset retry count","default":true}},"required":["id"]},"CreateConnectorDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique connector code"},"name":{"type":"string","description":"Connector name"},"description":{"type":"string","description":"Connector description"},"type":{"type":"string","enum":["ERP","CRM","ECOMMERCE","PAYMENT","SHIPPING","INVENTORY","WEBHOOK","API","FILE","CUSTOM"]},"direction":{"type":"string","enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"]},"isActive":{"type":"boolean","description":"Is connector active","default":true},"config":{"type":"object","description":"Connector configuration"},"rateLimit":{"type":"number","minimum":1,"description":"Rate limit (requests per window)"},"rateLimitWindow":{"type":"number","minimum":1,"description":"Rate limit window in seconds"},"failureThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Failure threshold for circuit breaker","default":5},"successThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Success threshold to close circuit","default":3},"metadata":{"type":"object","description":"Additional metadata"}},"required":["code","name","type","direction"]},"ConnectorResponseDto":{"type":"object","properties":{"id":{"type":"string"},"code":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"type":{"type":"string","enum":["ERP","CRM","ECOMMERCE","PAYMENT","SHIPPING","INVENTORY","WEBHOOK","API","FILE","CUSTOM"]},"direction":{"type":"string","enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"]},"isActive":{"type":"boolean"},"isBuiltIn":{"type":"boolean"},"pluginPath":{"type":"string"},"pluginVersion":{"type":"string"},"config":{"type":"object"},"configSchema":{"type":"object"},"declaredCapabilities":{"type":"array","items":{"type":"string"}},"rateLimit":{"type":"number"},"rateLimitWindow":{"type":"number"},"failureThreshold":{"type":"number"},"successThreshold":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","code","name","type","direction","isActive","isBuiltIn","config","declaredCapabilities","failureThreshold","successThreshold","createdAt","updatedAt"]},"UpdateConnectorDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique connector code"},"name":{"type":"string","description":"Connector name"},"description":{"type":"string","description":"Connector description"},"type":{"type":"string","enum":["ERP","CRM","ECOMMERCE","PAYMENT","SHIPPING","INVENTORY","WEBHOOK","API","FILE","CUSTOM"]},"direction":{"type":"string","enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"]},"isActive":{"type":"boolean","description":"Is connector active","default":true},"config":{"type":"object","description":"Connector configuration"},"rateLimit":{"type":"number","minimum":1,"description":"Rate limit (requests per window)"},"rateLimitWindow":{"type":"number","minimum":1,"description":"Rate limit window in seconds"},"failureThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Failure threshold for circuit breaker","default":5},"successThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Success threshold to close circuit","default":3},"metadata":{"type":"object","description":"Additional metadata"},"circuitState":{"type":"string","enum":["CLOSED","OPEN","HALF_OPEN"]}}},"CreateTransformationDto":{"type":"object","properties":{"name":{"type":"string","description":"Transformation name"},"description":{"type":"string","description":"Transformation description"},"sourceConnector":{"type":"string","description":"Source connector code"},"targetConnector":{"type":"string","description":"Target connector code"},"sourceType":{"type":"string","description":"Source message type"},"targetType":{"type":"string","description":"Target message type"},"isActive":{"type":"boolean","description":"Is transformation active","default":true},"priority":{"type":"number","minimum":0,"description":"Processing priority","default":0},"sourceToCanonical":{"type":"object","description":"Source to canonical transformation rules"},"canonicalToTarget":{"type":"object","description":"Canonical to target transformation rules"},"sourceSchema":{"type":"object","description":"Source schema for validation"},"canonicalSchema":{"type":"object","description":"Canonical schema for validation"},"targetSchema":{"type":"object","description":"Target schema for validation"},"metadata":{"type":"object","description":"Additional metadata"}},"required":["name","sourceConnector","targetConnector","sourceType","targetType","sourceToCanonical","canonicalToTarget"]},"TransformationResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"sourceConnector":{"type":"string"},"targetConnector":{"type":"string"},"sourceType":{"type":"string"},"targetType":{"type":"string"},"isActive":{"type":"boolean"},"priority":{"type":"number"},"sourceToCanonical":{"type":"object"},"canonicalToTarget":{"type":"object"},"sourceSchema":{"type":"object"},"canonicalSchema":{"type":"object"},"targetSchema":{"type":"object"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","sourceConnector","targetConnector","sourceType","targetType","isActive","priority","sourceToCanonical","canonicalToTarget","createdAt","updatedAt"]},"UpdateTransformationDto":{"type":"object","properties":{"name":{"type":"string","description":"Transformation name"},"description":{"type":"string","description":"Transformation description"},"sourceConnector":{"type":"string","description":"Source connector code"},"targetConnector":{"type":"string","description":"Target connector code"},"sourceType":{"type":"string","description":"Source message type"},"targetType":{"type":"string","description":"Target message type"},"isActive":{"type":"boolean","description":"Is transformation active","default":true},"priority":{"type":"number","minimum":0,"description":"Processing priority","default":0},"sourceToCanonical":{"type":"object","description":"Source to canonical transformation rules"},"canonicalToTarget":{"type":"object","description":"Canonical to target transformation rules"},"sourceSchema":{"type":"object","description":"Source schema for validation"},"canonicalSchema":{"type":"object","description":"Canonical schema for validation"},"targetSchema":{"type":"object","description":"Target schema for validation"},"metadata":{"type":"object","description":"Additional metadata"}}},"TransformPayloadDto":{"type":"object","properties":{"sourceConnector":{"type":"string","description":"Source connector code"},"targetConnector":{"type":"string","description":"Target connector code"},"sourceType":{"type":"string","description":"Source message type"},"targetType":{"type":"string","description":"Target message type"},"payload":{"type":"object","description":"Payload to transform"}},"required":["sourceConnector","targetConnector","sourceType","targetType","payload"]},"TransformResultDto":{"type":"object","properties":{"success":{"type":"boolean"},"sourcePayload":{"type":"object"},"canonicalPayload":{"type":"object"},"targetPayload":{"type":"object"},"errors":{"type":"array","items":{"type":"string"}},"transformationId":{"type":"string"}},"required":["success","transformationId"]},"DeadLetterStatsDto":{"type":"object","properties":{"total":{"type":"number"},"retryable":{"type":"number"},"nonRetryable":{"type":"number"},"reprocessed":{"type":"number"},"byConnector":{"type":"array","items":{"type":"string"}},"byReason":{"type":"array","items":{"type":"string"}}},"required":["total","retryable","nonRetryable","reprocessed","byConnector","byReason"]},"ReprocessDeadLetterDto":{"type":"object","properties":{"id":{"type":"string","description":"Dead letter message ID"}},"required":["id"]},"BulkReprocessDto":{"type":"object","properties":{"connector":{"type":"string","description":"Reprocess by connector"},"reason":{"type":"string","description":"Reprocess by reason"},"limit":{"type":"number","minimum":1,"maximum":1000,"description":"Maximum messages to reprocess","default":100}}},"BulkReprocessResultDto":{"type":"object","properties":{"total":{"type":"number"},"successful":{"type":"number"},"failed":{"type":"number"},"errors":{"type":"array","items":{"type":"string"}}},"required":["total","successful","failed","errors"]},"ConnectorHealthDto":{"type":"object","properties":{"code":{"type":"string"},"name":{"type":"string"},"status":{"type":"string","enum":["HEALTHY","DEGRADED","UNHEALTHY","UNKNOWN"]},"circuitState":{"type":"string","enum":["CLOSED","OPEN","HALF_OPEN"]},"isActive":{"type":"boolean"},"lastHealthCheck":{"format":"date-time","type":"string"},"healthDetails":{"type":"object"},"metrics":{"type":"object","properties":{"totalMessages":{"required":true,"type":"number"},"successfulMessages":{"required":true,"type":"number"},"failedMessages":{"required":true,"type":"number"},"successRate":{"required":true,"type":"number"}}}},"required":["code","name","status","circuitState","isActive","metrics"]},"RegisterConnectorDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique connector code"},"name":{"type":"string","description":"Connector name"},"description":{"type":"string","description":"Connector description"},"type":{"type":"string","enum":["ERP","CRM","ECOMMERCE","PAYMENT","SHIPPING","INVENTORY","WEBHOOK","API","FILE","CUSTOM"]},"direction":{"type":"string","enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"]},"pluginPath":{"type":"string","description":"Plugin path for dynamic loading"},"pluginVersion":{"type":"string","description":"Plugin version"},"isBuiltIn":{"type":"boolean","description":"Is built-in connector","default":false},"config":{"type":"object","description":"Default configuration"},"configSchema":{"type":"object","description":"Configuration schema (JSON Schema)"},"declaredCapabilities":{"description":"Declared capability codes","type":"array","items":{"type":"string"}},"rateLimit":{"type":"number","minimum":1,"description":"Rate limit (requests per window)"},"rateLimitWindow":{"type":"number","minimum":1,"description":"Rate limit window in seconds"},"failureThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Failure threshold for circuit breaker","default":5},"successThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Success threshold to close circuit","default":3},"metadata":{"type":"object","description":"Additional metadata"}},"required":["code","name","type","direction"]},"UpdateConnectorRegistrationDto":{"type":"object","properties":{"code":{"type":"string","description":"Unique connector code"},"name":{"type":"string","description":"Connector name"},"description":{"type":"string","description":"Connector description"},"type":{"type":"string","enum":["ERP","CRM","ECOMMERCE","PAYMENT","SHIPPING","INVENTORY","WEBHOOK","API","FILE","CUSTOM"]},"direction":{"type":"string","enum":["INBOUND","OUTBOUND","BIDIRECTIONAL"]},"pluginPath":{"type":"string","description":"Plugin path for dynamic loading"},"pluginVersion":{"type":"string","description":"Plugin version"},"isBuiltIn":{"type":"boolean","description":"Is built-in connector","default":false},"config":{"type":"object","description":"Default configuration"},"configSchema":{"type":"object","description":"Configuration schema (JSON Schema)"},"declaredCapabilities":{"description":"Declared capability codes","type":"array","items":{"type":"string"}},"rateLimit":{"type":"number","minimum":1,"description":"Rate limit (requests per window)"},"rateLimitWindow":{"type":"number","minimum":1,"description":"Rate limit window in seconds"},"failureThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Failure threshold for circuit breaker","default":5},"successThreshold":{"type":"number","minimum":1,"maximum":100,"description":"Success threshold to close circuit","default":3},"metadata":{"type":"object","description":"Additional metadata"},"isActive":{"type":"boolean","description":"Is connector active"}}},"DeclareCapabilityDto":{"type":"object","properties":{"code":{"type":"string","description":"Capability code"},"name":{"type":"string","description":"Capability name"},"description":{"type":"string","description":"Capability description"},"category":{"type":"string","enum":["SYNC","ASYNC","WEBHOOK","POLLING","BATCH","STREAM","CRUD","SEARCH","REPORT","CUSTOM"]},"inputSchema":{"type":"object","description":"Input schema (JSON Schema)"},"outputSchema":{"type":"object","description":"Output schema (JSON Schema)"},"configSchema":{"type":"object","description":"Configuration schema (JSON Schema)"},"requiredScopes":{"description":"Required OAuth scopes","type":"array","items":{"type":"string"}},"requiredPermissions":{"description":"Required permissions","type":"array","items":{"type":"string"}},"isOptional":{"type":"boolean","description":"Is optional capability","default":true}},"required":["code","name","category"]},"DeclareCapabilitiesDto":{"type":"object","properties":{"capabilities":{"type":"array","items":{"$ref":"#/components/schemas/DeclareCapabilityDto"}}},"required":["capabilities"]},"CapabilityResponseDto":{"type":"object","properties":{"id":{"type":"string"},"code":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"category":{"type":"string","enum":["SYNC","ASYNC","WEBHOOK","POLLING","BATCH","STREAM","CRUD","SEARCH","REPORT","CUSTOM"]},"inputSchema":{"type":"object"},"outputSchema":{"type":"object"},"configSchema":{"type":"object"},"requiredScopes":{"type":"array","items":{"type":"string"}},"requiredPermissions":{"type":"array","items":{"type":"string"}},"isOptional":{"type":"boolean"},"isDeprecated":{"type":"boolean"},"deprecatedMessage":{"type":"string"}},"required":["id","code","name","category","requiredScopes","requiredPermissions","isOptional","isDeprecated"]},"ConfigureConnectorDto":{"type":"object","properties":{"tenantId":{"type":"string","description":"Tenant ID"},"connectorId":{"type":"string","description":"Connector ID"},"name":{"type":"string","description":"Configuration name"},"description":{"type":"string","description":"Configuration description"},"isActive":{"type":"boolean","description":"Is configuration active","default":true},"isPrimary":{"type":"boolean","description":"Is primary configuration","default":false},"config":{"type":"object","description":"Configuration settings"},"credentialVaultId":{"type":"string","description":"Credential vault ID"},"enabledCapabilities":{"description":"Enabled capability codes","type":"array","items":{"type":"string"}},"webhookUrl":{"type":"string","description":"Webhook URL for callbacks"},"webhookSecret":{"type":"string","description":"Webhook secret for signature verification"},"webhookEvents":{"description":"Webhook event types to receive","type":"array","items":{"type":"string"}},"rateLimit":{"type":"number","minimum":1,"description":"Rate limit override"},"rateLimitWindow":{"type":"number","minimum":1,"description":"Rate limit window override (seconds)"},"transformationOverrides":{"type":"object","description":"Transformation overrides"},"metadata":{"type":"object","description":"Additional metadata"}},"required":["tenantId","connectorId","name"]},"ConnectorConfigResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"isActive":{"type":"boolean"},"isPrimary":{"type":"boolean"},"config":{"type":"object"},"credentialVaultId":{"type":"string"},"enabledCapabilities":{"type":"array","items":{"type":"string"}},"webhookUrl":{"type":"string"},"webhookEvents":{"type":"array","items":{"type":"string"}},"lastTestedAt":{"format":"date-time","type":"string"},"lastTestResult":{"type":"string","enum":["SUCCESS","FAILURE","TIMEOUT","ERROR"]},"lastTestError":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","isActive","isPrimary","config","enabledCapabilities","webhookEvents","createdAt","updatedAt"]},"UpdateConnectorConfigDto":{"type":"object","properties":{"tenantId":{"type":"string","description":"Tenant ID"},"connectorId":{"type":"string","description":"Connector ID"},"name":{"type":"string","description":"Configuration name"},"description":{"type":"string","description":"Configuration description"},"isActive":{"type":"boolean","description":"Is configuration active","default":true},"isPrimary":{"type":"boolean","description":"Is primary configuration","default":false},"config":{"type":"object","description":"Configuration settings"},"credentialVaultId":{"type":"string","description":"Credential vault ID"},"enabledCapabilities":{"description":"Enabled capability codes","type":"array","items":{"type":"string"}},"webhookUrl":{"type":"string","description":"Webhook URL for callbacks"},"webhookSecret":{"type":"string","description":"Webhook secret for signature verification"},"webhookEvents":{"description":"Webhook event types to receive","type":"array","items":{"type":"string"}},"rateLimit":{"type":"number","minimum":1,"description":"Rate limit override"},"rateLimitWindow":{"type":"number","minimum":1,"description":"Rate limit window override (seconds)"},"transformationOverrides":{"type":"object","description":"Transformation overrides"},"metadata":{"type":"object","description":"Additional metadata"}}},"ConnectionTestResultDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"latencyMs":{"type":"number"},"details":{"type":"object"},"capabilities":{"type":"array","items":{"type":"string"}},"errors":{"type":"array","items":{"type":"string"}}},"required":["success","message"]},"ExecuteCapabilityDto":{"type":"object","properties":{"configId":{"type":"string","description":"Connector configuration ID"},"capability":{"type":"string","description":"Capability code to execute"},"input":{"type":"object","description":"Capability input data"},"correlationId":{"type":"string","description":"Correlation ID for tracing"},"userId":{"type":"string","description":"User ID for audit"}},"required":["configId","capability","input"]},"CreateCredentialDto":{"type":"object","properties":{"tenantId":{"type":"string","description":"Tenant ID"},"name":{"type":"string","description":"Credential name"},"description":{"type":"string","description":"Credential description"},"type":{"type":"string","enum":["API_KEY","BASIC_AUTH","OAUTH2","BEARER_TOKEN","CLIENT_CREDENTIALS","CERTIFICATE","SSH_KEY","CUSTOM"]},"credentials":{"type":"object","description":"Credential data (will be encrypted)"},"expiresAt":{"type":"string","description":"Expiration date"},"rotationPolicy":{"type":"object","properties":{"enabled":{"required":true,"type":"boolean"},"intervalDays":{"required":true,"type":"number"},"autoRotate":{"required":true,"type":"boolean"},"notifyBeforeDays":{"required":false,"type":"number"}}},"accessPolicy":{"type":"object","properties":{"allowedConnectors":{"required":false,"type":"array","items":{"type":"string"}},"allowedUsers":{"required":false,"type":"array","items":{"type":"string"}},"allowedRoles":{"required":false,"type":"array","items":{"type":"string"}},"maxAccessCount":{"required":false,"type":"number"},"ipWhitelist":{"required":false,"type":"array","items":{"type":"string"}}}},"metadata":{"type":"object","description":"Additional metadata"}},"required":["tenantId","name","type","credentials","rotationPolicy","accessPolicy"]},"CredentialVaultResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"type":{"type":"string","enum":["API_KEY","BASIC_AUTH","OAUTH2","BEARER_TOKEN","CLIENT_CREDENTIALS","CERTIFICATE","SSH_KEY","CUSTOM"]},"expiresAt":{"format":"date-time","type":"string"},"rotatedAt":{"format":"date-time","type":"string"},"lastAccessedAt":{"format":"date-time","type":"string"},"accessCount":{"type":"number"},"rotationPolicy":{"type":"object"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","type","accessCount","createdAt","updatedAt"]},"UpdateCredentialDto":{"type":"object","properties":{"tenantId":{"type":"string","description":"Tenant ID"},"name":{"type":"string","description":"Credential name"},"description":{"type":"string","description":"Credential description"},"type":{"type":"string","enum":["API_KEY","BASIC_AUTH","OAUTH2","BEARER_TOKEN","CLIENT_CREDENTIALS","CERTIFICATE","SSH_KEY","CUSTOM"]},"credentials":{"type":"object","description":"Credential data (will be encrypted)"},"expiresAt":{"type":"string","description":"Expiration date"},"rotationPolicy":{"type":"object","properties":{"enabled":{"required":true,"type":"boolean"},"intervalDays":{"required":true,"type":"number"},"autoRotate":{"required":true,"type":"boolean"},"notifyBeforeDays":{"required":false,"type":"number"}}},"accessPolicy":{"type":"object","properties":{"allowedConnectors":{"required":false,"type":"array","items":{"type":"string"}},"allowedUsers":{"required":false,"type":"array","items":{"type":"string"}},"allowedRoles":{"required":false,"type":"array","items":{"type":"string"}},"maxAccessCount":{"required":false,"type":"number"},"ipWhitelist":{"required":false,"type":"array","items":{"type":"string"}}}},"metadata":{"type":"object","description":"Additional metadata"}},"required":["rotationPolicy","accessPolicy"]},"RotateCredentialDto":{"type":"object","properties":{"credentials":{"type":"object","description":"New credential data (will be encrypted)"}},"required":["credentials"]}}}}